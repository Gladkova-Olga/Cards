{"version":3,"sources":["components/packs/sortPack/sortPack.module.css","components/header/Header.module.css","components/profile/Profile.module.css","components/packs/Packs.module.css","components/cards/Cards.module.css","components/common/paginator/Paginator.module.css","components/users/Users.module.css","components/common/checkBox/CheckBox.module.css","components/login/Login.module.css","components/signUp/SignUp.module.css","components/restorePassword/RestorePassword.module.css","components/common/modal/Modal.module.css","components/cards/modals/ModalAddUpdatePack.module.css","components/cards/cardsSettings/CardsSettings.module.css","components/users/sortUsers/sortUsers.module.css","components/enterNewPassword/EnterNewPassword.module.css","components/packs/modals/ModalAddUpdatePack.module.css","components/packs/packsSettings/PacksSettings.module.css","components/learn/modals/ModalStopLearning.module.css","components/users/usersSettings/UserSettings.module.css","components/common/button/Button.module.css","components/common/styles/Input.module.css","components/packs/modals/ModalDeletePack.module.css","components/cards/modals/ModalDeleteCard.module.css","components/learn/learnAnswer/LearnAnswer.module.css","components/learn/Learn.module.css","components/common/input/Input.module.css","components/error404/Error404.module.css","components/common/error/error.module.css","dal/api.ts","bll/appReducer.ts","bll/enterNewPasswordReducer.ts","components/common/input/Input.tsx","components/common/button/Button.tsx","components/enterNewPassword/EnterNewPassword.tsx","bll/profileReducer.ts","bll/loginReducer.ts","components/common/checkBox/CheckBox.tsx","components/login/Login.tsx","components/profile/EditProfile.tsx","components/profile/Profile.tsx","bll/signUpReducer.ts","components/signUp/SignUp.tsx","bll/restorePasswordReducer.ts","components/restorePassword/RestorePassword.tsx","components/error404/Error404.tsx","bll/packsReducer.ts","components/common/modal/Modal.tsx","components/packs/modals/ModalAddUpdatePack.tsx","components/packs/modals/ModalDeletePack.tsx","components/common/paginator/Paginator.tsx","assets/images/icon_sort_up.png","assets/images/icon_sorn_down.png","components/packs/sortPack/SortPacks.tsx","components/packs/packsSettings/PacksSettings.tsx","components/packs/Packs.tsx","bll/cardsReducer.ts","components/cards/modals/ModalAddUpdateCard.tsx","components/cards/modals/ModalDeleteCard.tsx","components/cards/cardsSettings/CardsSettings.tsx","components/cards/sortCards/SortCards.tsx","components/cards/Cards.tsx","components/learn/learnAnswer/LearnAnswer.tsx","components/learn/modals/ModalStopLearning.tsx","components/learn/Learn.tsx","bll/usersReduser.ts","components/users/sortUsers/sortUsers.tsx","components/users/usersSettings/UsersSettings.tsx","components/users/Users.tsx","components/routes/Routes.tsx","components/header/Header.tsx","bll/learnReducer.ts","bll/store.ts","assets/images/loader.gif","components/common/preloader/Preloader.tsx","components/common/error/Error.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","instance","axios","create","baseURL","withCredentials","authAPI","email","password","rememberMe","payload","post","delete","from","message","resetPasswordToken","name","avatar","put","packsApi","user_id","min","max","sortPacks","page","pageCount","packName","get","params","isPrivate","cardsPack","private","_id","cardsAPI","cardAnswer","cardQuestion","cardsPack_id","sortCards","question","answer","grade","card","learnAPI","card_id","userAPI","userName","sortUsers","initialState","appStatus","error","setAppStatus","statusRequest","type","setError","isRequestSuccess","isButtonDisabled","completeRequest","setButtonDisabled","Input","onChange","className","rest","finalInputClassName","style","input","Button","buttonStyle","buttonPrimary","buttonSecondary","EnterNewPassword","useSelector","state","enterNewPassword","token","useParams","dispatch","useDispatch","formik","useFormik","initialValues","validate","values","errors","length","onSubmit","a","response","data","setNewPassword","to","enterNewPasswordBlock","handleSubmit","id","placeholder","handleChange","onBlur","handleBlur","value","touched","buttonContainer","disabled","children","publicCardPacksCount","setUserDataAC","isLoggedIn","setIsLoggedIn","CheckBox","checked","checkBox","label","htmlFor","Login","login","test","then","res","catch","e","resetForm","PATH","PROFILE","loginBlock","linksBlock","RESTORE_PASSWORD","item","SIGN_UP","EditProfile","onClickSave","onCancelEditProfileClick","useState","newName","setNewName","newAvatar","setNewAvatar","editProfileBlock","editProfileItem","currentTarget","styleInp","btnContainer","onClick","Profile","profile","editMode","setEditMode","LOGIN","updatedUser","updateUserData","profileBlock","src","alt","items","titleText","text","isSignedUp","signUpSuccess","SignUp","signUp","signUpContainer","RestorePassword","restorePassword","restorePasswordBlock","Error404","error404Page","cardPacks","cardPacksTotalCount","maxCardsCount","minCardsCount","isMyPacks","sortPacksCondition","maxCards","minCards","setMyPacks","isMyPack","fetchPacks","getState","packs","users","userId","cardPacksInfo","Modal","active","setActive","modal","modal_content","stopPropagation","ModalAddUpdatePack","buttonName","nameInit","isPrivateInit","activeAddPack","setActiveAddPack","title","setTitle","setIsPrivate","target","s","addPack","updatePack","ModalDeletePack","onClickDeleteHandler","deletePack","Paginator","totalItemsCount","portionSize","onPageChanges","currentPage","onSwitchPageCount","allPagesCount","Math","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginatorBlock","toString","select","paginator","btn","filter","p","map","selectedPage","pageNumber","SortPacks","btnName","up","down","PacksSettings","onChangeMyPacks","onPressKeyCardCount","onPressKeySearch","setMinCardsCount","setMaxCardsCount","searchValue","setSearchValue","onPressEnterCardCount","key","onKeyPress","numberInput","Packs","cardsPacks","myUser_id","history","useHistory","useEffect","packContainer","setCardsCount","setPackName","setPage","setPageCount","titlesBlock","pack","date","Date","updated","optionsDate","Intl","DateTimeFormat","year","month","day","optionsTime","hour","minute","formatDate","format","formatTime","packsBlock","cardsName","cardsCount","cards","cardsTotalCount","maxGrade","minGrade","packUserId","sortCardsCondition","setSortCardsCondition","setGrade","fetchCards","cardsInfo","ModalAddUpdateCard","questionInit","answerInit","gradeInit","setQuestion","setAnswer","addCard","updateCard","ModalDeletePCard","deleteCard","CardsSettings","onPressKeyQuestionSearch","onPressKeyAnswerSearch","onPressKeyGrade","questionValue","setQuestionValue","answerValue","setAnswerValue","setMin","setMax","onPressEnterGrade","SortCards","Cards","cardsContainer","setQuestionSearch","setAnswerSearch","setGradesRange","c","toFixed","cardsBlock","ModalDeleteCard","LearnAnswer","onCLickNext","setValue","onChangeValue","rating","ModalStopLearning","onClickStopHandler","onCLickStop","Learn","firstCard","setFirstCard","setCard","showAnswer","setShowAnswer","sum","reduce","acc","rand","random","newSum","getCard","useCallback","updatedGrade","addNewGrade","learnContainer","shots","created","PACKS","maxPublicCardPacksCount","minPublicCardPacksCount","usersTotalCount","sortUsersCondition","setSortUsersCondition","SortUsers","UsersSettings","onPressKeyPacksCount","minPacksCount","setMinPacksCount","maxPacksCount","setMaxPacksCount","onPressEnterPacksCount","onBlurPackCountHandler","Users","usersInfo","usersContainer","setPacksCountRange","u","usersBlock","description","setUserId","ENTER_NEW_PASSWORD","CARDS","LEARN","USERS","Routes","path","exact","render","Header","headerBlock","nav","activeClassName","activeLink","reducers","combineReducers","app","action","updCards","learn","store","createStore","applyMiddleware","thunkMiddleware","window","Preloader","loader","Error","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1da50dc2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"sortPack_btn__24Ug4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerBlock\":\"Header_headerBlock__YljZf\",\"nav\":\"Header_nav__2XAZr\",\"item\":\"Header_item__1dgwQ\",\"activeLink\":\"Header_activeLink__22_Er\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileBlock\":\"Profile_profileBlock__3D_PY\",\"items\":\"Profile_items__3F9-S\",\"titleText\":\"Profile_titleText__9BR-L\",\"text\":\"Profile_text__21lks\",\"editProfileBlock\":\"Profile_editProfileBlock__1QDfZ\",\"editProfileItem\":\"Profile_editProfileItem__1Ca2W\",\"btnContainer\":\"Profile_btnContainer__121Fx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"packContainer\":\"Packs_packContainer__3fe6W\",\"titlesBlock\":\"Packs_titlesBlock__2cT__\",\"title\":\"Packs_title__1M2xN\",\"packsBlock\":\"Packs_packsBlock__1IkoQ\",\"cardsName\":\"Packs_cardsName__3ahmV\",\"date\":\"Packs_date__djLgk\",\"btnContainer\":\"Packs_btnContainer__2SD2d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardsContainer\":\"Cards_cardsContainer__3q_-4\",\"titlesBlock\":\"Cards_titlesBlock__29b32\",\"cardsBlock\":\"Cards_cardsBlock__3hE6_\",\"cardsName\":\"Cards_cardsName__2ToSk\",\"date\":\"Cards_date__1HvQf\",\"btnContainer\":\"Cards_btnContainer__tZGis\",\"title\":\"Cards_title__129HC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginatorBlock\":\"Paginator_paginatorBlock__QxkBb\",\"select\":\"Paginator_select__1oHPO\",\"paginator\":\"Paginator_paginator__3xi11\",\"selectedPage\":\"Paginator_selectedPage__bOFQE\",\"pageNumber\":\"Paginator_pageNumber__2UcQO\",\"label\":\"Paginator_label__26mOB\",\"btn\":\"Paginator_btn__3xSTi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersContainer\":\"Users_usersContainer__2Mx-y\",\"titlesBlock\":\"Users_titlesBlock__3VX9l\",\"title\":\"Users_title__1M1td\",\"usersBlock\":\"Users_usersBlock__Pl7v7\",\"description\":\"Users_description__CCwtF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkBox\":\"CheckBox_checkBox__agmcP\",\"label\":\"CheckBox_label__3d5y2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginBlock\":\"Login_loginBlock__3Z06R\",\"linksBlock\":\"Login_linksBlock__1eIEK\",\"error\":\"Login_error__2xEKi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signUpContainer\":\"SignUp_signUpContainer__QZJl0\",\"buttonContainer\":\"SignUp_buttonContainer__3A39b\",\"error\":\"SignUp_error__2UPEz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"restorePasswordBlock\":\"RestorePassword_restorePasswordBlock__27FLF\",\"buttonContainer\":\"RestorePassword_buttonContainer__2ItZK\",\"error\":\"RestorePassword_error__3c_QG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__3qq8S\",\"active\":\"Modal_active__3-fso\",\"modal_content\":\"Modal_modal_content__2JCtW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnContainer\":\"ModalAddUpdatePack_btnContainer__2t1hN\",\"input\":\"ModalAddUpdatePack_input__lmT_u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"numberInput\":\"CardsSettings_numberInput__22X07\",\"item\":\"CardsSettings_item__1XmKP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"sortUsers_btn__1tcLY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enterNewPasswordBlock\":\"EnterNewPassword_enterNewPasswordBlock__3ULME\",\"buttonContainer\":\"EnterNewPassword_buttonContainer__2aser\",\"error\":\"EnterNewPassword_error__3SILl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnContainer\":\"ModalAddUpdatePack_btnContainer__6x_Md\",\"input\":\"ModalAddUpdatePack_input__2mBVz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"numberInput\":\"PacksSettings_numberInput__1T3nk\",\"item\":\"PacksSettings_item__1u6pv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnContainer\":\"ModalStopLearning_btnContainer__3mkxS\",\"btn\":\"ModalStopLearning_btn__30MOh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"numberInput\":\"UserSettings_numberInput__26rR-\",\"item\":\"UserSettings_item__99vn4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonPrimary\":\"Button_buttonPrimary__282O9\",\"buttonSecondary\":\"Button_buttonSecondary__1-zvO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__1l7zp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnContainer\":\"ModalDeletePack_btnContainer__2QDE-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnContainer\":\"ModalDeleteCard_btnContainer__5-VWe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"LearnAnswer_text__x11hx\",\"rating\":\"LearnAnswer_rating__FLMrn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"learnContainer\":\"Learn_learnContainer__2Bsf5\",\"text\":\"Learn_text__1hqLE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__1THl5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error404Page\":\"Error404_error404Page__j9Ar2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"error_error__OQwvZ\"};","import axios, {AxiosResponse} from \"axios\"\nimport {SortPackConditionType} from \"../bll/packsReducer\";\nimport {SortCardsConditionType} from \"../bll/cardsReducer\";\nimport {SortUsersConditionType} from \"../bll/usersReduser\";\n\nconst instance = axios.create({\n    baseURL: \"https://neko-back.herokuapp.com/2.0/\",\n    // baseURL: \"http://localhost:7542/2.0/\",\n    withCredentials: true\n})\n\nexport type UserDataType = {\n    _id: string,\n    email: string,\n    isAdmin: boolean,\n    name: string,\n    publicCardPacksCount: number,\n    rememberMe: boolean,\n    avatar?: string\n    created: number,\n    updated: number,\n}\nexport type UsersResponseType = {\n    users: UserDataType[]\n    maxPublicCardPacksCount: number\n    minPublicCardPacksCount: number\n    page: number\n    pageCount: number\n    usersTotalCount: number\n}\nexport type PackType = {\n    _id: string\n    user_id: string\n    name: string\n    cardsCount: number\n    created: string\n    updated: string\n    private: boolean\n}\nexport type PacksResponseType = {\n    cardPacks: PackType[]\n    cardPacksTotalCount: number\n    maxCardsCount: number\n    minCardsCount: number\n    page: number\n    pageCount: number\n}\nexport type CardType = {\n    answer: string\n    question: string\n    cardsPack_id: string\n    grade: number\n    rating: number\n    shots: number\n    type: string\n    user_id: string\n    created: string\n    updated: string\n    _id: string\n}\nexport type CardsResponseType = {\n    cards: CardType[]\n    cardsTotalCount: number\n    maxGrade: number\n    minGrade: number\n    page: number\n    pageCount: number\n    packUserId: string\n}\ntype UpdGradeCardType = {\n    _id: string\n    cardsPack_id: string\n    card_id: string\n    user_id: string\n    grade: number\n    shots: number\n}\n\n\nexport const authAPI = {\n    login(email: string, password: string, rememberMe: boolean) {\n        const payload = {\n            email,\n            password,\n            rememberMe\n        };\n        return (\n            instance.post<typeof payload, AxiosResponse<UserDataType>>(\"auth/login\", payload)\n        )\n    },\n    signUp(email: string, password: string) {\n        const payload = {\n            email,\n            password\n        };\n        return (\n            instance.post<typeof payload, AxiosResponse<any>>('auth/register', payload)\n        )\n\n    },\n    logout() {\n        return instance.delete<{}, AxiosResponse<any>>('/auth/me')\n    },\n    restorePassword(email: string) {\n        const payload = {\n            email,\n            from: \"test-front-admin <olga_gladkova@tut.by>\",\n            message: `<div style=\"padding: 10px\">\n                       <div>Password recovery link: </div> \n<!--                        <a href='https://Gladkova-Olga.github.io/Cards/#/enter-new-password/$token$'>-->\n                        <a href='localhost:3000//Cards/#/enter-new-password/$token$'>\n                        Click here</a></div>`\n        }\n        return instance.post<typeof payload, AxiosResponse<any>>('/auth/forgot', payload)\n    },\n    setNewPassword(password: string, resetPasswordToken: string) {\n        const payload = {\n            password,\n            resetPasswordToken\n        }\n        return instance.post<typeof payload, AxiosResponse<any>>('/auth/set-new-password', payload)\n    },\n    me() {\n        return instance.post<{}, AxiosResponse<UserDataType>>('auth/me')\n    },\n    updateUserData(name: string, avatar: string) {\n        const payload = {\n            name, avatar\n        }\n        return instance.put<typeof payload, AxiosResponse<{ updatedUser: UserDataType }>>('auth/me', payload)\n    },\n\n}\nexport const packsApi = {\n    getPacks(user_id: string,  min: number, max: number,\n             sortPacks: SortPackConditionType, page: number, pageCount: number, packName: string) {\n        if (user_id) {\n            return instance.get<{}, AxiosResponse<PacksResponseType>>(`cards/pack`, {\n                params: {\n                    packName, user_id, min, max, sortPacks, page, pageCount\n                }\n            })\n        } else {\n            return instance.get<{}, AxiosResponse<PacksResponseType>>(`cards/pack`, {\n                params: {\n                    packName, min, max, sortPacks, page, pageCount,\n                }\n            })\n        }\n    },\n    addPack(name: string, isPrivate: boolean) {\n        const payload = {\n            cardsPack: {\n                name,\n                private: isPrivate\n            }\n        }\n        return instance.post<typeof payload, AxiosResponse<PackType>>('cards/pack', payload)\n    },\n    deletePack(_id: string) {\n        return instance.delete<{}, AxiosResponse<PackType>>(`cards/pack?id=${_id}`)\n    },\n    updatePack(_id: string, name: string, isPrivate: boolean) {\n        const payload = {\n            cardsPack: {\n                _id,\n                name,\n                private: isPrivate\n            }\n        }\n        return instance.put<typeof payload, AxiosResponse<PackType>>(`cards/pack`, payload)\n\n    }\n}\n\nexport const cardsAPI = {\n    getCards(cardAnswer: string, cardQuestion: string, cardsPack_id: string,\n             min: number, max: number, sortCards: null | SortCardsConditionType, page: number, pageCount: number) {\n        return instance.get<{}, AxiosResponse<CardsResponseType>>(`cards/card`,\n            {\n                params: {\n                    cardAnswer, cardQuestion, cardsPack_id, min, max, sortCards, page, pageCount\n                }\n            })\n        // return instance.get<{}, AxiosResponse<CardsResponseType>>(`cards/card?cardsPack_id=${cardsPack_id}`\n        //     })\n    },\n    addCard(cardsPack_id: string, question: string, answer: string, grade: number) {\n        const payload = {\n            card: {\n                cardsPack_id, question, answer, grade\n            }\n        }\n        return instance.post<typeof payload, AxiosResponse<CardType>>(`cards/card`, payload)\n    },\n    updateCard(_id: string, cardsPack_id: string, question: string, answer: string, grade: number) {\n        const payload = {\n            card: {\n                _id, cardsPack_id, question, answer, grade\n            }\n        }\n        return instance.put<typeof payload, AxiosResponse<CardType>>(`cards/card`, payload)\n    },\n    deleteCard(_id: string) {\n        return instance.delete<{}, AxiosResponse<CardType>>(`cards/card?id=${_id}`)\n    },\n}\n\nexport const learnAPI = {\n    updateGrade(grade: number, card_id: string) {\n        const payload = {\n            grade, card_id\n        }\n        return instance.put<typeof payload, AxiosResponse<{updatedGrade: UpdGradeCardType}>>('cards/grade', payload);\n    }\n\n}\n\nexport const userAPI = {\n    getUsers(userName: string, min: number, max: number, sortUsers: null | SortUsersConditionType, page: number, pageCount: number) {\n        return instance.get<{}, AxiosResponse<UsersResponseType>>(`social/users`, {\n            params: {\n                userName, min, max, sortUsers, page, pageCount\n            }\n        });\n    },\n    getUserById(id: number) {\n        return instance.get<{}, AxiosResponse<{user: UserDataType}>>(`social/user?id=${id}`);\n    }\n}","type StatusRequestType = 'idle' | 'loading'\nexport type SetAppStatusType = ReturnType<typeof setAppStatus>\nexport type SetErrorType = ReturnType<typeof setError>\ntype ActionAppType = SetAppStatusType | SetErrorType\ntype InitialStateType = typeof initialState;\n\nconst initialState = {\n    appStatus: 0,\n    error: null as null | string\n}\n\nexport const appReducer = (state: InitialStateType = initialState, action: ActionAppType): InitialStateType => {\n    switch (action.type) {\n        case \"APP/SET-APP-STATUS\": {\n            if (action.statusRequest === \"loading\") {\n                return {...state, appStatus: state.appStatus + 1}\n            }\n            return {...state, appStatus: state.appStatus - 1}\n\n        }\n        case \"APP/SET-ERROR\": {\n            return {...state, error: action.error}\n        }\n        default: {\n            return state\n        }\n    }\n}\n\nexport const setAppStatus = (statusRequest: StatusRequestType) => {\n    return ({\n        type: \"APP/SET-APP-STATUS\",\n        statusRequest\n    } as const)\n}\nexport const setError = (error: null | string) => {\n    return({\n        type: \"APP/SET-ERROR\",\n        error\n    } as const)\n}\n\n","import {Dispatch} from \"redux\";\nimport {authAPI} from \"../dal/api\";\nimport {setAppStatus, SetAppStatusType, setError, SetErrorType} from \"./appReducer\";\n\ntype InitialStateType = typeof initialState;\ntype ThunkDispatch = Dispatch<ActionsNewPasswordType>\n\ntype CompleteRequestType = ReturnType<typeof completeRequest>\ntype SetButtonDisabled = ReturnType<typeof setButtonDisabled>\ntype ActionsNewPasswordType = CompleteRequestType | SetButtonDisabled | SetAppStatusType | SetErrorType\n\nconst initialState = {\n    isRequestSuccess: false,\n    isButtonDisabled: false\n};\n\nexport const enterNewPasswordReducer = (state: InitialStateType = initialState, action: ActionsNewPasswordType): InitialStateType =>{\n    switch (action.type) {\n        case \"ENTER-NEW-PASSWORD/COMPLETED-REQUEST\": {\n            return {...state, isRequestSuccess: action.isRequestSuccess}\n        }\n        case \"ENTER-NEW-PASSWORD/SET-BUTTON-DISABLED\": {\n            return {...state, isButtonDisabled: action.isButtonDisabled}\n        }\n        default: {\n            return state\n        }\n    }\n}\n\nconst completeRequest = (isRequestSuccess: boolean) => {\n    return ({\n        type: \"ENTER-NEW-PASSWORD/COMPLETED-REQUEST\",\n        isRequestSuccess\n    } as const)\n}\n\nconst setButtonDisabled = (isButtonDisabled: boolean) => {\n    return ({\n        type: \"ENTER-NEW-PASSWORD/SET-BUTTON-DISABLED\",\n        isButtonDisabled\n    } as const)\n}\n\nexport const setNewPassword = (password: string, token: string) => {\n    return async (dispatch: ThunkDispatch) => {\n        dispatch(setAppStatus('loading'));\n        dispatch(setButtonDisabled(true));\n        try {\n            await authAPI.setNewPassword(password, token);\n            dispatch(completeRequest(true));\n            dispatch(setButtonDisabled(false));\n            dispatch(setAppStatus('idle'));\n        }\n        catch (e:any) {\n            dispatch(completeRequest(false));\n            const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n            dispatch(setError(error));\n            dispatch(setButtonDisabled(false));\n            dispatch(setAppStatus('idle'));\n        }\n    }\n}","import React, {DetailedHTMLProps, InputHTMLAttributes} from 'react';\nimport style from \"./Input.module.css\"\n\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\n\ntype InputPropsType = DefaultInputPropsType & {\n\n}\n\nfunction Input({type, onChange, className, ...rest}: InputPropsType) {\n\n    const finalInputClassName = `${style.input} ${className ? className : ''}`\n\n    return (\n        <input className={finalInputClassName} type={type} onChange={onChange} {...rest} />\n    )\n\n}\n\nexport default Input;","import React, {ButtonHTMLAttributes, DetailedHTMLProps} from 'react';\nimport style from \"./Button.module.css\"\n\ntype ButtonPropsType = DefaultButtonPropsType &{\n    buttonStyle: \"primary\" | \"secondary\"\n}\n\ntype DefaultButtonPropsType = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>\n\nconst Button: React.FC<ButtonPropsType> = ({buttonStyle, className, ...rest}) => {\n    const finalInputClassName = `${buttonStyle === \"primary\" ? style.buttonPrimary : style.buttonSecondary} ${className \n        ? className : ''}`\n\n    return (\n        <button className={finalInputClassName} {...rest} />\n    )\n\n}\nexport default Button;","import React from 'react'\nimport style from './EnterNewPassword.module.css'\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppStoreType} from \"../../bll/store\";\nimport {useFormik} from \"formik\";\nimport {setNewPassword} from \"../../bll/enterNewPasswordReducer\";\nimport {Redirect, useParams} from \"react-router-dom\";\nimport Input from \"../common/input/Input\";\nimport Button from \"../common/button/Button\";\n\ntype FormikErrorType = {\n    password?: string\n}\n\n\nfunction EnterNewPassword() {\n\n    const isRequestSuccess = useSelector<AppStoreType, boolean>(state => state.enterNewPassword.isRequestSuccess);\n    const isButtonDisabled = useSelector<AppStoreType, boolean>(state => state.enterNewPassword.isButtonDisabled);\n    const {token} = useParams<{token: string}>()\n    const dispatch = useDispatch();\n\n    const formik = useFormik({\n        initialValues: {\n            password: '',\n        },\n        validate: (values) => {\n            const errors: FormikErrorType = {};\n            if (!values.password) {\n                errors.password = \"Field is required\";\n            } else if (values.password.length < 7) {\n                errors.password = \"Password must be more than 8 symbols\"\n            }\n            return errors;\n        },\n        onSubmit: values => {\n            dispatch(setNewPassword(values.password, token))\n\n        }\n    })\n\n    if (isRequestSuccess) {\n        return (\n            <Redirect to={'/login'}/>\n        )\n    } else {\n        return (\n            <div className={style.enterNewPasswordBlock}>\n                <div>Enter new password</div>\n                <form onSubmit={formik.handleSubmit}>\n                    <div>\n                        <Input id={\"password\"} name={\"password\"} type={\"password\"} placeholder={\"Password\"}\n                               onChange={formik.handleChange} onBlur={formik.handleBlur}\n                               value={formik.values.password}/>\n                        {formik.errors.password && formik.touched.password ?\n                            <div className={style.error}>{formik.errors.password}</div> : null}\n                    </div>\n                    <div className={style.buttonContainer}>\n                        <Button buttonStyle={\"primary\"} type={\"submit\"} disabled={isButtonDisabled} children={\"Send\"}/>\n                    </div>\n\n                </form>\n            </div>\n        )\n    }\n\n}\n\nexport default EnterNewPassword;","import {Dispatch} from \"redux\";\nimport {authAPI} from \"../dal/api\";\nimport {setAppStatus, SetAppStatusType, setError, SetErrorType} from \"./appReducer\";\n\ntype InitialStateType = typeof initialState;\ntype ThunkDispatch = Dispatch<ActionsProfileType>\n\n\nexport type SetUserDataAType = ReturnType<typeof setUserDataAC>\nexport type UpdateUserDataAType = ReturnType<typeof updateUserDataAC>\n\ntype ActionsProfileType = SetUserDataAType | UpdateUserDataAType | SetAppStatusType | SetErrorType\n\nconst initialState = {\n    _id: \"\",\n    name: \"\",\n    publicCardPacksCount: 0,\n    avatar: \"\"\n};\n\nexport const profileReducer = (state: InitialStateType = initialState, action: ActionsProfileType): InitialStateType => {\n    switch (action.type) {\n        case \"PROFILE/SET-USER-DATA\": {\n            return {\n                ...state, _id: action._id, name: action.name,\n                publicCardPacksCount: action.publicCardPacksCount, avatar: action.avatar\n            }\n        }\n        case \"PROFILE/UPDATE-USER-DATA\": {\n            return {\n                ...state, name: action.name, avatar: action.avatar\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}\n\nexport const setUserDataAC = (_id: string, name: string, publicCardPacksCount: number, avatar: string) => ({\n    type: \"PROFILE/SET-USER-DATA\",\n    _id, name, publicCardPacksCount, avatar\n} as const)\n\nexport const updateUserDataAC = (name: string, avatar: string) => ({\n    type: \"PROFILE/UPDATE-USER-DATA\",\n    name, avatar\n} as const)\n\n\nexport const setUserData = () => {\n    return async (dispatch: ThunkDispatch) => {\n        dispatch(setAppStatus('loading'));\n        try {\n            const res = await authAPI.me();\n            dispatch(setUserDataAC(res.data._id, res.data.name, res.data.publicCardPacksCount,\n                res.data.avatar ? res.data.avatar : \"\"))\n            dispatch(setAppStatus('idle'));\n        } catch (e: any) {\n            const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n            dispatch(setError(error));\n            dispatch(setAppStatus('idle'));\n        }\n    }\n}\nexport const updateUserData = (name: string, avatar: string) => {\n    return async (dispatch: ThunkDispatch) => {\n        dispatch(setAppStatus('loading'));\n        try {\n            const res = await authAPI.updateUserData(name, avatar);\n            dispatch(setUserDataAC(res.data.updatedUser._id, res.data.updatedUser.name,\n                res.data.updatedUser.publicCardPacksCount, res.data.updatedUser.avatar ? res.data.updatedUser.avatar : \"\"));\n            dispatch(setAppStatus('idle'));\n        } catch (e: any) {\n            const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n            dispatch(setError(error));\n            dispatch(setAppStatus('idle'));\n        }\n    }\n}","import {Dispatch} from \"redux\";\nimport {authAPI} from \"../dal/api\";\nimport {setUserDataAC, SetUserDataAType} from \"./profileReducer\";\nimport {setAppStatus, SetAppStatusType, setError, SetErrorType} from \"./appReducer\";\n\ntype ThunkDispatch = Dispatch<ActionsLoginType>\ntype InitialStateType = typeof initialState;\n\ntype SetIsLoggedInType = ReturnType<typeof setIsLoggedIn>\ntype SetButtonDisabledType = ReturnType<typeof setButtonDisabled>\ntype ActionsLoginType = SetIsLoggedInType | SetButtonDisabledType | SetUserDataAType | SetAppStatusType | SetErrorType\n\n\nconst initialState = {\n    isLoggedIn: false,\n    isButtonDisabled: false\n};\n\nexport const loginReducer = (state: InitialStateType = initialState, action: ActionsLoginType): InitialStateType => {\n    switch (action.type) {\n        case \"LOGIN/SET-IS-LOGGED-IN\": {\n            return {...state, isLoggedIn: action.isLoggedIn}\n        }\n        case \"LOGIN/SET-BUTTON-DISABLED\":\n            return {...state, isButtonDisabled: action.isButtonDisabled}\n\n        default: {\n            return state\n        }\n    }\n}\n\nexport const setIsLoggedIn = (isLoggedIn: boolean) => {\n    return ({\n        type: \"LOGIN/SET-IS-LOGGED-IN\",\n        isLoggedIn\n    } as const)\n}\n\nconst setButtonDisabled = (isButtonDisabled: boolean) => {\n    return ({\n        type: \"LOGIN/SET-BUTTON-DISABLED\",\n        isButtonDisabled\n    } as const)\n}\n\nexport const login = (email: string, password: string, rememberMe: boolean) => {\n    return (dispatch: ThunkDispatch) => {\n        dispatch(setButtonDisabled(true));\n        dispatch(setAppStatus('loading'));\n        authAPI.login(email, password, rememberMe)\n            .then(res => {\n                dispatch(setIsLoggedIn(true));\n                dispatch(setUserDataAC(res.data._id, res.data.name, res.data.publicCardPacksCount,\n                    res.data.avatar ? res.data.avatar : \"\"));\n                dispatch(setButtonDisabled(false));\n                dispatch(setAppStatus('idle'));\n\n            })\n            .catch(e => {\n                const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n                dispatch(setError(error));\n                dispatch(setButtonDisabled(false));\n                dispatch(setAppStatus('idle'));\n            })\n\n    }\n}\n\nexport const logout = () => {\n    return async (dispatch: ThunkDispatch) => {\n        dispatch(setAppStatus('loading'));\n        try {\n            await authAPI.logout();\n            dispatch(setIsLoggedIn(false));\n            dispatch(setUserDataAC(\"\", \"\", 0, ''));\n            dispatch(setAppStatus('idle'));\n\n        } catch (e: any) {\n            const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n            dispatch(setError(error));\n            dispatch(setAppStatus('idle'));\n        }\n    }\n}\n","import React, {DetailedHTMLProps, InputHTMLAttributes} from 'react';\nimport style from \"./CheckBox.module.css\"\n\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\ntype CheckBoxPropsType = DefaultInputPropsType &{\n\n}\n\nfunction CheckBox({type, id,  children, onChange, checked, name, className, ...rest}: CheckBoxPropsType) {\n    const finalInputClassName = `${style.checkBox} ${className ? className : ''}`\n\n    return (\n        <div>\n            <input className={finalInputClassName} type={\"checkbox\"} id={id} onChange={onChange} checked={checked}\n                 name={name}  {...rest}/>\n            <label className={style.label} htmlFor={id}>{children}</label>\n        </div>\n\n\n\n    )\n\n}\n\nexport default CheckBox;","import React from 'react'\nimport style from './Login.module.css'\nimport {useFormik} from \"formik\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppStoreType} from \"../../bll/store\";\nimport {login} from \"../../bll/loginReducer\";\nimport {NavLink, Redirect} from \"react-router-dom\";\nimport {PATH} from \"../routes/Routes\";\nimport Button from \"../common/button/Button\";\nimport Input from \"../common/input/Input\";\nimport CheckBox from \"../common/checkBox/CheckBox\";\n\ntype FormikErrorType = {\n    email?: string\n    password?: string\n    rememberMe?: boolean\n}\n\n\nfunction Login() {\n    const dispatch = useDispatch()\n    const isLoggedIn = useSelector<AppStoreType, boolean>(state => state.login.isLoggedIn)\n    const isButtonDisabled = useSelector<AppStoreType, boolean>(state => state.login.isButtonDisabled)\n\n    const formik = useFormik({\n        initialValues: {\n            email: 'olga_gladkova@tut.by',\n            password: 'trener28',\n            rememberMe: false\n        },\n        validate: (values) => {\n            const errors: FormikErrorType = {};\n            if (!values.email) {\n                errors.email = \"Field is required\";\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\n                errors.email = \"Invalid e-mail address\";\n            }\n            if (!values.password) {\n                errors.password = \"Field is required\";\n            }\n            return errors;\n        },\n        onSubmit: values => {\n            dispatch(login(values.email, values.password, values.rememberMe))\n            formik.resetForm();\n        }\n    })\n\n    if (isLoggedIn) {\n        return (\n            <Redirect to={PATH.PROFILE}/>\n        )\n    }\n\n    return (\n        <div className={style.loginBlock}>\n            <h3>Sign in</h3>\n            <form onSubmit={formik.handleSubmit}>\n                <div>\n                    <Input id={\"email\"} name={\"email\"} type={\"text\"} placeholder={\"E-mail\"}\n                           onChange={formik.handleChange}\n                           value={formik.values.email} onBlur={formik.handleBlur}/>\n                    {formik.errors.email && formik.touched.email ? <div className={style.error}>{formik.errors.email}</div> : null}\n                </div>\n                <div>\n                    <Input id={\"password\"} name={\"password\"} type={\"password\"} placeholder={\"Password\"}\n                           onChange={formik.handleChange} onBlur={formik.handleBlur} value={formik.values.password}/>\n                    {formik.errors.password && formik.touched.password ? <div className={style.error}>{formik.errors.password}</div> : null}\n                </div>\n                <div>\n                    <CheckBox id={\"rememberMe\"} name={\"rememberMe\"} type={\"checkbox\"} onChange={formik.handleChange}\n                              children={\"remember me\"}/>\n                </div>\n                <Button buttonStyle={\"primary\"} type={\"submit\"} disabled={isButtonDisabled} children={'Sign in'}/>\n\n            </form>\n            <div className={style.linksBlock}>\n                <div>\n                    <NavLink to={PATH.RESTORE_PASSWORD}>Forgot your password?</NavLink>\n                </div>\n                <div className={style.item}>\n                    <NavLink to={PATH.SIGN_UP}>Sign Up</NavLink>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Login;","import React, {ChangeEvent, useState} from \"react\";\nimport style from \"./Profile.module.css\";\nimport Input from \"../common/input/Input\";\nimport styleInp from \"../common/styles/Input.module.css\";\nimport Button from \"../common/button/Button\";\n\ntype PropsType = {\n    name: string\n    avatar: string\n    onClickSave: (name: string, avatar: string) => void\n    onCancelEditProfileClick: () => void\n}\n\nconst EditProfile: React.FC<PropsType> = ({name, avatar, onClickSave, onCancelEditProfileClick}) => {\n    const [newName, setNewName] = useState(name);\n    const [newAvatar, setNewAvatar] = useState(avatar);\n\n\n    const onChangeNewName = (e: ChangeEvent<HTMLInputElement>) => {\n        setNewName(e.currentTarget.value);\n    }\n    const onChangeNewAvatar = (e: ChangeEvent<HTMLInputElement>) => {\n        setNewAvatar(e.currentTarget.value);\n    }\n\n    return (\n        <div className={style.editProfileBlock}>\n                <div className={style.editProfileItem}>\n                    <Input id={\"name\"} name={\"name\"} type={\"text\"} placeholder={\"Name\"}\n                           onChange={onChangeNewName} value={newName} className={styleInp.input}/>\n                </div>\n                <div className={style.editProfileItem}>\n                    <Input\n                        id={\"avatar\"} name={\"avatar\"} type={\"text\"} placeholder={\"URL avatar\"}\n                        onChange={onChangeNewAvatar} value={newAvatar} className={styleInp.input}/>\n                </div>\n\n                <div className={style.btnContainer}>\n                    <Button  children={\"Save\"} buttonStyle={\"primary\"} onClick={() => onClickSave(newName, newAvatar)}/>\n                    <Button children={\"Cancel\"} buttonStyle={\"primary\"} onClick={onCancelEditProfileClick}/>\n                </div>\n\n\n        </div>\n    )\n}\n\nexport default EditProfile;","import React, {useState} from 'react'\nimport style from './Profile.module.css'\nimport styleInp from '../common/styles/Input.module.css'\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppStoreType} from \"../../bll/store\";\nimport {setUserData, updateUserData} from \"../../bll/profileReducer\";\nimport {Redirect} from \"react-router-dom\";\nimport {setIsLoggedIn} from \"../../bll/loginReducer\";\nimport {useFormik} from \"formik\";\nimport {PATH} from \"../routes/Routes\";\nimport Input from \"../common/input/Input\";\nimport Button from \"../common/button/Button\";\nimport EditProfile from \"./EditProfile\";\n\n\nfunction Profile() {\n    const dispatch = useDispatch();\n    const isLoggedIn = useSelector<AppStoreType, boolean>(state => state.login.isLoggedIn);\n    const name = useSelector<AppStoreType, string>(state => state.profile.name);\n    const _id = useSelector<AppStoreType, string>(state => state.profile._id);\n    const publicCardPacksCount = useSelector<AppStoreType, number>(state => state.profile.publicCardPacksCount);\n    const avatar = useSelector<AppStoreType, string>(state => state.profile.avatar);\n    const [editMode, setEditMode] = useState(false);\n    // const reader = new FileReader()\n    // const formik = useFormik({\n    //         initialValues: {\n    //             name,\n    //             avatar,\n    //         },\n    //         onSubmit: values => {\n    //             dispatch(updateUserData(values.name, values.avatar));\n    //             setEditMode(false);\n    //         }\n    //     }\n    // )\n\n    const editProfile = () => {\n        setEditMode(true);\n    }\n    const onCancelEditProfileClick = () => {\n        setEditMode(false);\n    }\n    // const saveFile = () => {\n    //     reader.readAsArrayUrl()\n    //\n    // }\n    const onClickSave = (name: string, avatar: string) => {\n        dispatch(updateUserData(name, avatar));\n        setEditMode(false);\n    }\n\n\n    if (!isLoggedIn) {\n        dispatch(setUserData());\n        if (!_id) {\n            return <Redirect to={PATH.LOGIN}/>\n        } else {\n            dispatch(setIsLoggedIn(true))\n        }\n    }\n    if (editMode) {\n        return (\n            <EditProfile name={name} avatar={avatar} onClickSave={onClickSave}\n                         onCancelEditProfileClick={onCancelEditProfileClick}/>\n        )\n    }\n    //     return (\n    //         <>\n    //             <EditProfile name={name} avatar={avatar} onClickSave={}\n    //                          onCancelEditProfileClick={onCancelEditProfileClick}/>\n    //         </>\n    //\n    //     // <div>\n    //     {/*<form onSubmit={formik.handleSubmit} className={style.editProfileBlock}>*/\n    //     }\n    //     {/*    <div className={style.editProfileItem}>*/\n    //     }\n    //     {/*        <Input id={\"name\"} name={\"name\"} type={\"text\"} placeholder={\"Name\"}*/\n    //     }\n    //     {/*               onChange={formik.handleChange} value={formik.values.name} className={styleInp.input}/>*/\n    //     }\n    //     {/*    </div>*/\n    //     }\n    //     {/*    <div className={style.editProfileItem}>*/\n    //     }\n    //     {/*        <Input*/\n    //     }\n    //     {/*            id={\"avatar\"} name={\"avatar\"} type={\"text\"} placeholder={\"URL avatar\"}*/\n    //     }\n    //     {/*            onChange={formik.handleChange} value={formik.values.avatar} className={styleInp.input}/>*/\n    //     }\n    //     {/*    </div>*/\n    //     }\n    //     {/*    /!*<div>*!/*/\n    //     }\n    //     {/*    /!*    <input type={\"file\"} name={'file'} id={'file'} accept=\"image/png, image/jpeg, image/jpg\"*!/*/\n    //     }\n    //     {/*    /!*           onChange={formik.handleChange} value={formik.values.avatar} className={styleInp.input}/>*!/*/\n    //     }\n    //     {/*    /!*    <label htmlFor=\"file\">Change Image</label>*!/*/\n    //     }\n    //     {/*    /!*</div>*!/*/\n    //     }\n    //     {/*    <div className={style.btnContainer}>*/\n    //     }\n    //     {/*        <Button type={\"submit\"} children={\"Save\"} buttonStyle={\"primary\"}/>*/\n    //     }\n    //     {/*        <Button children={\"Cancel\"} buttonStyle={\"primary\"} onClick={onCancelEditProfileClick}/>*/\n    //     }\n    //     {/*    </div>*/\n    //     }\n    //\n    //     {/*</form>*/\n    //     }\n    //     {/*</div>*/\n    //     // }\n    // )\n    // }\n    return (\n        <div className={style.profileBlock}>\n            <div>\n                <img src={avatar} alt={name}/>\n            </div>\n            <div className={style.items}>\n                <div className={style.titleText}>{name}</div>\n                <div className={style.text}>{publicCardPacksCount} public packs</div>\n                <Button onClick={editProfile} buttonStyle={\"primary\"} children={\"Edit profile\"}/>\n            </div>\n\n        </div>\n    )\n}\n\nexport default Profile;","import {Dispatch} from \"redux\";\nimport {authAPI} from \"../dal/api\";\nimport {setAppStatus, SetAppStatusType, setError, SetErrorType} from \"./appReducer\";\n\ntype InitialStateType = typeof initialState;\ntype ThunkDispatch = Dispatch<ActionsSignUpType>\n\ntype SignUpSuccessType = ReturnType<typeof signUpSuccess>\ntype SetButtonDisabledType = ReturnType<typeof setButtonDisabled>\ntype ActionsSignUpType = SignUpSuccessType | SetButtonDisabledType | SetAppStatusType | SetErrorType\n\nconst initialState = {\n    isSignedUp: false,\n    isButtonDisabled: false\n};\n\nexport const signUpReducer = (state: InitialStateType = initialState, action: ActionsSignUpType): InitialStateType => {\n    switch (action.type) {\n        case \"SIGN-UP/SIGNED-UP-SUCCESS\": {\n            return {...state, isSignedUp: action.isSignedUp}\n        }\n        case \"SIGN-UP/SET-BUTTON-DISABLED\": {\n            return {...state, isButtonDisabled: action.isButtonDisabled}\n        }\n        default: {\n            return state\n        }\n    }\n}\n\nconst signUpSuccess = (isSignedUp: boolean) => {\n    return ({\n        type: \"SIGN-UP/SIGNED-UP-SUCCESS\",\n        isSignedUp\n    } as const)\n}\n\nconst setButtonDisabled = (isButtonDisabled: boolean) => {\n    return ({\n        type: \"SIGN-UP/SET-BUTTON-DISABLED\",\n        isButtonDisabled\n    } as const)\n}\n\nexport const signUp = (email: string, password: string) => {\n    return (dispatch: ThunkDispatch) => {\n        dispatch(setButtonDisabled(true));\n        dispatch(setAppStatus('loading'));\n        authAPI.signUp(email, password)\n            .then(res => {\n                dispatch(signUpSuccess(true));\n                dispatch(setAppStatus('idle'));\n            })\n            .catch(e => {\n                const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n                dispatch(setError(error));\n                dispatch(setAppStatus('idle'));\n                dispatch(signUpSuccess(false));\n                dispatch(setButtonDisabled(false))\n            })\n    }\n\n}","import React from 'react'\nimport style from './SignUp.module.css'\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppStoreType} from \"../../bll/store\";\nimport {useFormik} from \"formik\";\nimport {Redirect} from \"react-router-dom\";\nimport {signUp} from \"../../bll/signUpReducer\";\nimport Input from \"../common/input/Input\";\nimport Button from \"../common/button/Button\";\n\ntype FormikErrorType = {\n    email?: string\n    password?: string\n    rememberMe?: boolean\n}\n\nfunction SignUp() {\n    const dispatch = useDispatch()\n    const isSignedUp = useSelector<AppStoreType, boolean>(state => state.signUp.isSignedUp)\n    const isButtonDisabled = useSelector<AppStoreType, boolean>(state => state.signUp.isButtonDisabled)\n\n    const formik = useFormik({\n        initialValues: {\n            email: '',\n            password: '',\n        },\n        validate: (values) => {\n            const errors: FormikErrorType = {};\n            if (!values.email) {\n                errors.email = \"Field is required\";\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\n                errors.email = \"Invalid e-mail address\";\n            }\n            if (!values.password) {\n                errors.password = \"Field is required\";\n            } else if (values.password.length < 7) {\n                errors.password = \"Password must be more than 8 symbols\"\n            }\n            return errors;\n        },\n        onSubmit: values => {\n            dispatch(signUp(values.email, values.password))\n            formik.resetForm();\n        }\n    })\n    if (isSignedUp) {\n        return (\n            <Redirect to={'/login'}/>\n        )\n    }\n\n    return (\n        <div className={style.signUpContainer}>\n            <h3>Sign up</h3>\n            <form onSubmit={formik.handleSubmit}>\n                <div>\n                    <Input\n                        id={\"email\"} name={\"email\"} type={\"text\"} placeholder={\"E-mail\"}\n                        onChange={formik.handleChange} value={formik.values.email} onBlur={formik.handleBlur}/>\n                    {formik.errors.email && formik.touched.email ?\n                        <div className={style.error}>{formik.errors.email}</div> : null}\n                </div>\n                <div>\n                    <Input id={\"password\"} name={\"password\"} type={\"password\"} placeholder={\"Password\"}\n                           onChange={formik.handleChange} onBlur={formik.handleBlur} value={formik.values.password}/>\n                    {formik.errors.password && formik.touched.password ?\n                        <div className={style.error}>{formik.errors.password}</div> : null}\n                </div>\n                <div className={style.buttonContainer}>\n                    <Button type={\"submit\"} disabled={isButtonDisabled} buttonStyle={\"primary\"} children={\"Sign up\"}/>\n                </div>\n\n            </form>\n        </div>\n    )\n}\n\nexport default SignUp;","import {Dispatch} from \"redux\";\nimport {authAPI} from \"../dal/api\";\nimport {setAppStatus, SetAppStatusType, setError, SetErrorType} from \"./appReducer\";\n\ntype InitialStateType = typeof initialState;\ntype ThunkDispatch = Dispatch<ActionsRestorePasswordType>\n\ntype CompleteRequestType = ReturnType<typeof completeRequest>\ntype SetButtonDisabled = ReturnType<typeof setButtonDisabled>\ntype ActionsRestorePasswordType =  CompleteRequestType | SetButtonDisabled | SetAppStatusType | SetErrorType\n\nconst initialState = {\n    isRequestSuccess: false,\n    isButtonDisabled: false\n};\n\nexport const restorePasswordReducer =\n    (state: InitialStateType = initialState, action: ActionsRestorePasswordType): InitialStateType => {\n    switch (action.type) {\n        case \"RESTORE-PASSWORD/COMPLETED-REQUEST\": {\n            return {...state, isRequestSuccess: action.isRequestSuccess}\n        }\n        case \"RESTORE-PASSWORD/SET-BUTTON-DISABLED\": {\n            return {...state, isButtonDisabled: action.isButtonDisabled}\n        }\n        default: {\n            return state\n        }\n    }\n}\n\nconst completeRequest = (isRequestSuccess: boolean) => {\n    return ({\n        type: \"RESTORE-PASSWORD/COMPLETED-REQUEST\",\n        isRequestSuccess\n    } as const)\n}\n\nconst setButtonDisabled = (isButtonDisabled: boolean) => {\n    return ({\n        type: \"RESTORE-PASSWORD/SET-BUTTON-DISABLED\",\n        isButtonDisabled\n    } as const)\n}\n\nexport const restorePassword = (email: string) => {\n    return async (dispatch: ThunkDispatch) => {\n        dispatch(setAppStatus('loading'));\n        dispatch(setButtonDisabled(true))\n        try {\n            await authAPI.restorePassword(email);\n            dispatch(completeRequest(true));\n            dispatch(setAppStatus('idle'));\n        }\n        catch (e:any) {\n            dispatch(completeRequest(false));\n            const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n            dispatch(setError(error));\n            dispatch(setAppStatus('idle'));\n            dispatch(setButtonDisabled(false))\n        }\n    }\n}\n","import React from 'react'\nimport style from './RestorePassword.module.css'\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppStoreType} from \"../../bll/store\";\nimport {useFormik} from \"formik\";\nimport {restorePassword} from \"../../bll/restorePasswordReducer\";\nimport Input from \"../common/input/Input\";\nimport Button from \"../common/button/Button\";\n\ntype FormikErrorType = {\n    email?: string\n}\n\nfunction RestorePassword() {\n    const dispatch = useDispatch();\n    const isRequestSuccess = useSelector<AppStoreType, boolean>(state => state.restorePassword.isRequestSuccess);\n    const isButtonDisabled = useSelector<AppStoreType, boolean>(state => state.restorePassword.isButtonDisabled);\n\n    const formik = useFormik({\n        initialValues: {\n            email: '',\n        },\n        validate: (values) => {\n            const errors: FormikErrorType = {};\n            if (!values.email) {\n                errors.email = \"Field is required\";\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\n                errors.email = \"Invalid e-mail address\";\n            }\n            return errors;\n        },\n        onSubmit: values => {\n            dispatch(restorePassword(values.email))\n            formik.resetForm();\n        }\n    })\n\n    if (isRequestSuccess) {\n        return (\n            <div className={style.restorePasswordBlock}>\n                Check your e-mail! We've sent instruction how to recover your password there\n            </div>\n        )\n    } else {\n        return (\n            <div className={style.restorePasswordBlock}>\n                <div>Please enter your email address to restore your password</div>\n                <form onSubmit={formik.handleSubmit}>\n                    <div>\n                        <Input id={\"email\"} name={\"email\"} type={\"text\"} placeholder={\"E-mail\"}\n                               onChange={formik.handleChange} value={formik.values.email} onBlur={formik.handleBlur}/>\n                        {formik.errors.email && formik.touched.email ?\n                            <div className={style.error}>{formik.errors.email}</div> : null}\n                    </div>\n                    <div className={style.buttonContainer}>\n                        <Button buttonStyle={\"primary\"} type={\"submit\"} disabled={isButtonDisabled} children={\"Send\"}/>\n                    </div>\n\n                </form>\n            </div>\n        )\n    }\n\n}\n\nexport default RestorePassword;","import React from 'react'\nimport style from './Error404.module.css'\n\n\nfunction Error404() {\n    return (\n        <div className={style.error404Page}>\n            <div>404</div>\n            <div>Page not found!</div>\n        </div>\n    )\n}\n\nexport default Error404","import {packsApi, PacksResponseType, PackType} from \"../dal/api\";\nimport {setAppStatus, SetAppStatusType, setError, SetErrorType} from \"./appReducer\";\nimport {AppStoreType} from \"./store\";\nimport {ThunkAction, ThunkDispatch} from \"redux-thunk\";\n\ntype GetPacksType = ReturnType<typeof getPacks>\ntype SetMyPacksType = ReturnType<typeof setMyPacks>\ntype SortPacksType = ReturnType<typeof sortPacks>\ntype SetPackNameType = ReturnType<typeof setPackName>\ntype SetCardsCountType = ReturnType<typeof setCardsCount>\ntype SetPageCountType = ReturnType<typeof setPageCount>\ntype SetPageType = ReturnType<typeof setPage>\n\n\ntype ActionPacksType = GetPacksType | SetMyPacksType | SortPacksType | SetPackNameType | SetCardsCountType |\n    SetPageCountType | SetPageType | SetAppStatusType | SetErrorType\n\nexport type SortPackConditionType = \"0updated\" | \"1updated\" | \"0name\" | \"1name\" | \"0cardsCount\" | \"1cardsCount\" | null\ntype ThunkDispatchType = ThunkDispatch<AppStoreType, unknown, ActionPacksType>\ntype ThunkType = ThunkAction<void, AppStoreType, unknown, ActionPacksType>\ntype InitialStateType = typeof initialState\n\nconst initialState = {\n    cardPacks: [] as PackType[],\n    cardPacksTotalCount: 0,\n    maxCardsCount: 0,\n    minCardsCount: 0,\n    page: 1,\n    pageCount: 10,\n    isMyPacks: false,\n    sortPacksCondition: null as null | SortPackConditionType,\n    packName: \"\",\n    maxCards: 1000,\n    minCards: 0,\n}\n\nexport const packsReducer = (state: InitialStateType = initialState, action: ActionPacksType): InitialStateType => {\n    switch (action.type) {\n        case \"PACKS/GET-PACKS\": {\n            return {...state, ...action.cardPacksInfo}\n        }\n        case \"PACKS/SET-MY-PACKS\": {\n            return {...state, isMyPacks: action.isMyPack}\n        }\n        case \"PACKS/SET-PACK-NAME\": {\n            return {...state, packName: action.packName}\n        }\n        case \"PACKS/SET-CARDS-COUNT\": {\n            return {...state, minCards: action.minCards, maxCards: action.maxCards}\n        }\n\n        case \"PACKS/SORT-PACKS\": {\n            return {...state, sortPacksCondition: action.sortPacksCondition}\n        }\n        case \"PACKS/SET-PAGE-COUNT\": {\n            return {...state, pageCount: action.pageCount}\n        }\n        case \"PACKS/SET-PAGE\": {\n            return {...state, page: action.page}\n        }\n\n        default: {\n            return state\n        }\n\n    }\n}\n\nconst getPacks = (cardPacksInfo: PacksResponseType) => {\n    return ({\n        type: \"PACKS/GET-PACKS\",\n        cardPacksInfo\n    } as const)\n}\nexport const setMyPacks = (isMyPack: boolean) => {\n    return ({\n        type: \"PACKS/SET-MY-PACKS\",\n        isMyPack\n    } as const)\n}\n\nexport const setCardsCount = (minCards: number, maxCards: number) => {\n    return ({\n        type: \"PACKS/SET-CARDS-COUNT\",\n        minCards,\n        maxCards,\n    } as const)\n}\n\nexport const sortPacks = (sortPacksCondition: SortPackConditionType | null) => {\n    return ({\n        type: \"PACKS/SORT-PACKS\", sortPacksCondition\n    } as const)\n}\nexport const setPackName = (packName: string) => {\n    return ({\n        type: \"PACKS/SET-PACK-NAME\",\n        packName\n    } as const)\n}\nexport const setPageCount = (pageCount: number) => {\n    return ({\n        type: \"PACKS/SET-PAGE-COUNT\",\n        pageCount\n    } as const)\n}\nexport const setPage = (page: number) => {\n    return ({\n        type: \"PACKS/SET-PAGE\",\n        page\n    } as const)\n}\n\n\nexport const fetchPacks = (): ThunkType => {\n    return async (dispatch: ThunkDispatchType, getState: () => AppStoreType) => {\n        let user_id = \"\";\n        const isMyPacks = getState().packs.isMyPacks;\n        if(isMyPacks) {\n            user_id = getState().profile._id;\n        } else {\n            user_id = getState().users.userId;\n        }\n        const maxCards = getState().packs.maxCards;\n        const minCards = getState().packs.minCards;\n        const page = getState().packs.page;\n        const pageCount = getState().packs.pageCount;\n        const sortPacksCondition = getState().packs.sortPacksCondition;\n        const packName = getState().packs.packName\n        dispatch(setAppStatus('loading'));\n        try {\n            const res = await packsApi.getPacks(user_id, minCards, maxCards,\n                sortPacksCondition, page, pageCount, packName);\n            dispatch(getPacks(res.data));\n            dispatch(setAppStatus('idle'));\n        } catch (e: any) {\n            const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n            dispatch(setError(error));\n            dispatch(setAppStatus('idle'));\n        }\n    }\n}\n\n\nexport const addPack = (name: string, isPrivate: boolean): ThunkType => {\n    return async (dispatch: ThunkDispatchType) => {\n        dispatch(setAppStatus('loading'));\n        try {\n            await packsApi.addPack(name, isPrivate);\n            dispatch(fetchPacks());\n            dispatch(setAppStatus('idle'));\n        } catch (e: any) {\n            const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n            dispatch(setError(error));\n            dispatch(setAppStatus('idle'));\n        }\n    }\n}\n\n\nexport const deletePack = (_id: string): ThunkType => {\n    return async (dispatch: ThunkDispatchType) => {\n        dispatch(setAppStatus('loading'));\n        try {\n            await packsApi.deletePack(_id);\n            dispatch(fetchPacks());\n            dispatch(setAppStatus('idle'));\n        } catch (e: any) {\n            const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n            dispatch(setError(error));\n            dispatch(setAppStatus('idle'));\n        }\n    }\n}\n\n\nexport const updatePack = (_id: string, name: string, isPrivate: boolean): ThunkType => {\n    return async (dispatch: ThunkDispatchType) => {\n        dispatch(setAppStatus('loading'));\n        try {\n            await packsApi.updatePack(_id, name, isPrivate);\n            dispatch(fetchPacks());\n            dispatch(setAppStatus('idle'))\n        } catch (e: any) {\n            const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n            dispatch(setError(error));\n            dispatch(setAppStatus('idle'));\n        }\n    }\n}\n\n\n","import React from \"react\";\nimport style from './Modal.module.css'\n\ntype ModalPropsType = {\n    active: boolean\n    setActive: (active: boolean) => void\n    children: any\n}\n\n\nconst Modal = ({active, setActive, children}: ModalPropsType)  => {\n    const onClickModal = () => {\n        setActive(false)\n    }\n\n    return (\n        <div className={active ? `${style.modal} ${style.active}` : style.modal} onClick={onClickModal}>\n            <div className={style.modal_content}\n                 onClick={e => e.stopPropagation()}>\n                {children}\n            </div>\n        </div>\n    )\n}\nexport default Modal;","import React, {ChangeEvent, useState} from \"react\";\nimport Modal from \"../../common/modal/Modal\";\nimport {useDispatch} from \"react-redux\";\nimport {addPack, updatePack} from \"../../../bll/packsReducer\";\nimport Button from \"../../common/button/Button\";\nimport Input from \"../../common/input/Input\";\nimport style from \"../../common/checkBox/CheckBox.module.css\";\nimport s from \"./ModalAddUpdatePack.module.css\"\n\ntype PropsType = {\n    buttonName: \"Add\" | \"Update\"\n    nameInit: string\n    _id: string\n    isPrivateInit: boolean\n}\n\nconst ModalAddUpdatePack: React.FC<PropsType> = ({\n                                                     buttonName, _id, nameInit,\n                                                     isPrivateInit\n                                                 }) => {\n    const dispatch = useDispatch();\n    const [activeAddPack, setActiveAddPack] = useState(false);\n    const [title, setTitle] = useState(nameInit);\n    const [isPrivate, setIsPrivate] = useState(isPrivateInit);\n\n    const onClickAddPackHandler = () => {\n        setActiveAddPack(true);\n    }\n    const onChangeTitle = (e: ChangeEvent<HTMLInputElement>) => {\n        setTitle(e.target.value);\n    }\n    const onChangeIsPrivate = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setIsPrivate(e.target.checked);\n\n    }\n    const onClickSave = () => {\n        if (buttonName === 'Add') {\n            dispatch(addPack(title, isPrivate));\n        } else {\n            dispatch(updatePack(_id, title, isPrivate))\n        }\n        setActiveAddPack(false);\n        setTitle(title);\n        setIsPrivate(isPrivate);\n    }\n    const onClickCancel = () => {\n        setActiveAddPack(false);\n        setTitle(nameInit);\n        setIsPrivate(isPrivateInit);\n    }\n\n    return (\n        <div>\n            <Button onClick={onClickAddPackHandler} buttonStyle={\"secondary\"} children={buttonName}/>\n            <Modal active={activeAddPack} setActive={setActiveAddPack}>\n                <Input type={\"text\"} placeholder={\"Cards title\"} value={title}\n                       onChange={onChangeTitle} className={s.input}/>\n\n                <div>\n                    <input className={style.checkBox} type={\"checkbox\"} id={_id} onChange={onChangeIsPrivate}\n                           checked={isPrivate}/>\n                    <label className={style.label} htmlFor={_id}>private pack</label>\n                </div>\n                <div>\n                    <Button buttonStyle={\"secondary\"} children={\"Save\"} onClick={onClickSave}\n                            className={s.btnContainer}/>\n                    <Button buttonStyle={\"secondary\"} children={\"Cancel\"} onClick={onClickCancel}\n                            className={s.btnContainer}/>\n                </div>\n            </Modal>\n        </div>\n    )\n}\n\nexport default ModalAddUpdatePack;","import React, {useState} from \"react\";\nimport Modal from \"../../common/modal/Modal\";\nimport {useDispatch} from \"react-redux\";\nimport {deletePack} from \"../../../bll/packsReducer\";\nimport Button from \"../../common/button/Button\";\nimport style from \"./ModalDeletePack.module.css\"\n\n\ntype PropsType = {\n    _id: string\n    name: string\n}\n\nconst ModalDeletePack: React.FC<PropsType> = ({_id, name}) => {\n    const [active, setActive] = useState(false);\n    const dispatch = useDispatch();\n\n\n    const onClickDeleteHandler = () => {\n        setActive(true);\n    }\n    const onClickYes = () => {\n        dispatch(deletePack(_id));\n        setActive(false);\n    }\n    const onClickNo = () => {\n        setActive(false);\n    }\n\n\n    return (\n        <div>\n            <Button onClick={onClickDeleteHandler} children={\"Delete\"} buttonStyle={\"secondary\"}/>\n            <Modal active={active} setActive={onClickDeleteHandler}>\n                <div>Do you really want to delete {name}?</div>\n                <div>\n                    <Button onClick={onClickYes} buttonStyle={\"secondary\"} children={\"Yes\"} className={style.btnContainer}/>\n                    <Button onClick={onClickNo} buttonStyle={\"secondary\"} children={\"No\"} className={style.btnContainer}/>\n                </div>\n\n            </Modal>\n        </div>\n    )\n}\n\nexport default ModalDeletePack;","import React, {ChangeEvent, useState} from \"react\";\nimport style from \"./Paginator.module.css\"\n\ntype PropsType = {\n    pageCount: number\n    totalItemsCount: number\n    portionSize: number\n    onPageChanges: (page: number) => void\n    currentPage: number\n    onSwitchPageCount: (pageCount: number) => void\n}\n\nconst Paginator: React.FC<PropsType> = ({\n                                            pageCount, totalItemsCount,\n                                            portionSize, onPageChanges, currentPage, onSwitchPageCount\n                                        }) => {\n    const onChangePageCount = (e: ChangeEvent<HTMLSelectElement>) => {\n        onSwitchPageCount(+e.target.value);\n    };\n    const allPagesCount = Math.ceil(totalItemsCount / pageCount);\n    const pages = [];\n    for (let i = 1; i <= allPagesCount; i++) {\n        pages.push(i);\n    }\n    const portionCount = Math.ceil(allPagesCount / portionSize);\n    const [portionNumber, setPortionNumber] = useState(1);\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    const rightPortionPageNumber = portionNumber * portionSize;\n    const onClickPrev = () => {\n        setPortionNumber(portionNumber - 1);\n    }\n    const onClickNext = () => {\n        setPortionNumber(portionNumber + 1);\n    }\n\n\n    return (\n        <div className={style.paginatorBlock}>\n            <div>\n                <span className={style.label}>items per page</span>\n\n                <select name={\"pageCount\"} id={\"pageCount\"} value={pageCount.toString()} onChange={onChangePageCount}\n                        className={style.select}>\n                    <option value={10}>10</option>\n                    <option value={20}>20</option>\n                    <option value={30}>30</option>\n                    <option value={40}>40</option>\n                    <option value={50}>50</option>\n                </select>\n            </div>\n            <div className={style.paginator}>\n                {portionNumber > 1 ?\n                    <button name={\"prev\"} onClick={onClickPrev}  className={style.btn}>prev\n                    </button> : \"\"\n\n                }\n\n                {pages\n                    .filter(p =>  p >= leftPortionPageNumber && p <= rightPortionPageNumber )\n                    .map(p => {\n                        return (\n                            <span className={p === currentPage ? style.selectedPage : style.pageNumber} key={p}\n                                  onClick={() => onPageChanges(p)}>{p}</span>\n                        )\n                    })\n                }\n                {portionNumber < portionCount ?\n                    <button name={\"next\"} onClick={onClickNext} className={style.btn}>\n                        next\n                    </button> : \"\"}\n            </div>\n\n        </div>\n    )\n}\n\nexport default Paginator;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAAV0lEQVQ4jWNgGAV4gblnLp+5Zy4fPjVM+DT/YWXa+YeVaZ+ud6YgLnWM+DQzMDBYQIXO/vr7y/Xy1unvCRqARTMMYDUExQA8mnEaAjeACM14XTIKBhIAADNIL2eAbX58AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAAWUlEQVQ4jWNgGAUDDxhhDD23Em42jt/b/jMw2OHVwMhwnPnXP4+T2yd/QjGAGEPQNWMYgM8QbJqxGoDNEFyacRqAbAgDIwMrLs0EgblnLp+5Zy4fyRpHGAAAoSUx/GeBn0IAAAAASUVORK5CYII=\"","import React from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {sortPacks} from \"../../../bll/packsReducer\";\nimport style from \"./sortPack.module.css\"\nimport up from \"../../../assets/images/icon_sort_up.png\"\nimport down from \"../../../assets/images/icon_sorn_down.png\"\n\n\ntype PropsType = {\n    btnName: \"name\" | \"cardsCount\" | \"updated\"\n}\nconst SortPacks: React.FC<PropsType> = ({btnName}) => {\n    const dispatch = useDispatch();\n\n    const onClickNameUp = () => {\n        dispatch(sortPacks(\"1name\"))\n    }\n    const onClickNameDown = () => {\n        dispatch(sortPacks(\"0name\"))\n    }\n    const onClickCardsUp = () => {\n        dispatch(sortPacks(\"1cardsCount\"))\n    }\n    const onClickCardsDown = () => {\n        dispatch(sortPacks(\"0cardsCount\"))\n    }\n    const onClickUpdUp = () => {\n        dispatch(sortPacks(\"1updated\"))\n    }\n    const onClickUpdDown = () => {\n        dispatch(sortPacks(\"0updated\"))\n    }\n    switch (btnName) {\n        case \"name\": {\n            return (\n                <div>\n                    <button className={style.btn} onClick={onClickNameUp}><img src={up} alt={\"up\"}/></button>\n                    <button className={style.btn} onClick={onClickNameDown}><img src={down} alt={\"down\"}/></button>\n                </div>\n            )\n        }\n        case \"cardsCount\": {\n            return (\n                <div>\n                    <button className={style.btn} onClick={onClickCardsUp}><img src={up} alt={\"up\"}/></button>\n                    <button className={style.btn} onClick={onClickCardsDown}><img src={down} alt={\"down\"}/></button>\n                </div>\n            )\n        }\n        case \"updated\": {\n            return (\n                <div>\n                    <button className={style.btn} onClick={onClickUpdUp}><img src={up} alt={\"up\"}/></button>\n                    <button className={style.btn} onClick={onClickUpdDown}><img src={down} alt={\"down\"}/></button>\n                </div>\n            )\n        }\n    }\n\n}\nexport default SortPacks;","import React, {ChangeEvent, KeyboardEvent, useState} from \"react\";\nimport CheckBox from \"../../common/checkBox/CheckBox\";\nimport Input from \"../../common/input/Input\";\nimport style from \"./PacksSettings.module.css\";\n\ntype PropsType = {\n    isMyPacks: boolean\n    onChangeMyPacks: (isMyPack: boolean) => void\n    onPressKeyCardCount: (minCardsCount: number, maxCardsCount: number) => void\n    onPressKeySearch: (searchValue: string) => void\n}\n\nconst PacksSettings: React.FC<PropsType> = ({isMyPacks, onChangeMyPacks,\n                                                onPressKeyCardCount, onPressKeySearch }) => {\n    const [minCardsCount, setMinCardsCount] = useState(0);\n    const [maxCardsCount, setMaxCardsCount] = useState(1000);\n    const [searchValue, setSearchValue] = useState(\"\");\n    const onChangeMinCardsCount = (e: ChangeEvent<HTMLInputElement>) => {\n        setMinCardsCount(+e.target.value);\n\n    }\n    const onChangeMaxCardsCount = (e: ChangeEvent<HTMLInputElement>) => {\n        setMaxCardsCount(+e.target.value);\n    }\n    const onChangeSearchValue = (e: ChangeEvent<HTMLInputElement>) => {\n        setSearchValue(e.target.value)\n    }\n    const onPressEnterSearch = (e: KeyboardEvent<HTMLInputElement>) => {\n        if (e.key === 'Enter') {\n            onPressKeySearch(searchValue);\n        }\n    }\n    const onPressEnterCardCount = (e: KeyboardEvent<HTMLInputElement>) => {\n        if (e.key === 'Enter') {\n            onPressKeyCardCount(minCardsCount, maxCardsCount);\n        }\n    }\n\n\n    return (\n        <>\n            <CheckBox id={\"my packs\"} children={\"my packs\"}\n                      onChange={(e) => onChangeMyPacks(e.target.checked)}\n                      checked={isMyPacks} />\n            <div>\n                <Input value={searchValue} onChange={onChangeSearchValue} placeholder={\"Search pack\"}\n                       onKeyPress={onPressEnterSearch} className={style.item}/>\n            </div>\n            <div>\n                Cards count:\n            </div>\n            <div>\n                <Input value={minCardsCount} onChange={onChangeMinCardsCount}\n                            className={style.numberInput}  onKeyPress={onPressEnterCardCount}/> - min\n            </div>\n            <div>\n                <Input className={style.numberInput} value={maxCardsCount} onChange={onChangeMaxCardsCount}\n                             onKeyPress={onPressEnterCardCount}/>  - max\n            </div>\n\n        </>\n    )\n}\nexport default PacksSettings;","import style from './Packs.module.css'\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppStoreType} from \"../../bll/store\";\nimport {PackType} from \"../../dal/api\";\nimport {useEffect} from \"react\";\nimport {\n    fetchPacks,\n    setCardsCount,\n    setMyPacks,\n    setPackName, setPage, setPageCount, SortPackConditionType,\n} from \"../../bll/packsReducer\";\nimport ModalAddUpdatePack from \"./modals/ModalAddUpdatePack\";\nimport {Redirect, useHistory} from \"react-router-dom\";\nimport {PATH} from \"../routes/Routes\";\nimport ModalDeletePack from \"./modals/ModalDeletePack\";\nimport Paginator from \"../common/paginator/Paginator\";\nimport SortPacks from \"./sortPack/SortPacks\";\nimport PacksSettings from \"./packsSettings/PacksSettings\";\nimport Button from \"../common/button/Button\";\n\nconst Packs = () => {\n    const cardsPacks = useSelector<AppStoreType, PackType[]>(state => state.packs.cardPacks);\n    const isMyPacks = useSelector<AppStoreType, boolean>(state => state.packs.isMyPacks);\n    const isLoggedIn = useSelector<AppStoreType, boolean>(state => state.login.isLoggedIn);\n    const minCards = useSelector<AppStoreType, number>(state => state.packs.minCards);\n    const maxCards = useSelector<AppStoreType, number>(state => state.packs.maxCards);\n    const packName = useSelector<AppStoreType, string>(state => state.packs.packName);\n    const sortPacksCondition = useSelector<AppStoreType, SortPackConditionType>(state => state.packs.sortPacksCondition);\n    const pageCount = useSelector<AppStoreType, number>(state => state.packs.pageCount);\n    const cardPacksTotalCount = useSelector<AppStoreType, number>(state => state.packs.cardPacksTotalCount);\n    const page = useSelector<AppStoreType, number>(state => state.packs.page);\n    const myUser_id = useSelector<AppStoreType, string>(state => state.profile._id);\n\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n\n    useEffect(() => {\n        dispatch(fetchPacks())\n\n    }, [isLoggedIn, isMyPacks, minCards, maxCards, packName, sortPacksCondition, pageCount, page, myUser_id]);\n\n\n    const onChangeMyPacks = (isMyPack: boolean) => {\n        dispatch(setMyPacks(isMyPack));\n    }\n\n    const onPressKeySearch = (searchValue: string) => {\n        dispatch(setPackName(searchValue));\n    }\n    const onPressKeyCardCount = (minCardsCount: number, maxCardsCount: number) => {\n        dispatch(setCardsCount(minCardsCount, maxCardsCount));\n    }\n\n    const onPageChange = (page: number) => {\n        dispatch(setPage(page));\n    }\n    const onSwitchPageCount = (pageCount: number) => {\n        dispatch(setPageCount(pageCount));\n    }\n\n    if (!isLoggedIn) {\n        return <Redirect to={PATH.LOGIN}/>\n    }\n\n\n    return (\n        <div className={style.packContainer}>\n            <div>\n                <PacksSettings isMyPacks={isMyPacks} onChangeMyPacks={onChangeMyPacks}\n                               onPressKeyCardCount={onPressKeyCardCount} onPressKeySearch={onPressKeySearch}/>\n                <div className={style.btnContainer}>\n                    <ModalAddUpdatePack buttonName={\"Add\"} _id={''} nameInit={''} isPrivateInit={false}\n                    />\n                </div>\n\n            </div>\n            <div>\n                <Paginator pageCount={pageCount} portionSize={10} totalItemsCount={cardPacksTotalCount}\n                           onPageChanges={onPageChange} currentPage={page} onSwitchPageCount={onSwitchPageCount}/>\n                <div className={style.titlesBlock}>\n                    <div className={style.title}>\n                        <span>Name</span>\n                        <SortPacks btnName={\"name\"}/>\n                    </div>\n\n                    <div className={style.title}>\n                        <span>Cards</span>\n                        <SortPacks btnName={\"cardsCount\"}/>\n                    </div>\n\n                    <div className={style.title}>\n                        <span>Updated</span>\n                        <SortPacks btnName={\"updated\"}/>\n                    </div>\n\n                </div>\n                <div>\n                    {cardsPacks.map((pack) => {\n\n                        let date = new Date(pack.updated);\n                        let optionsDate = new Intl.DateTimeFormat(\"en\", {\n                            year: \"numeric\",\n                            month: \"numeric\",\n                            day: \"numeric\",\n                        });\n                        let optionsTime = new Intl.DateTimeFormat(\"en\", {\n                            hour: \"numeric\",\n                            minute: \"numeric\",\n                        });\n                        const formatDate = optionsDate.format(date);\n                        const formatTime = optionsTime.format(date);\n                        const onClickCards = () => {\n                            history.push(`/cards/${pack._id}`)\n                        }\n                        const onClickLearn = () => {\n                            history.push(`/learn/${pack._id}`)\n                        }\n\n                        return <div className={style.packsBlock} key={pack._id}>\n                            <div onClick={onClickCards} className={style.cardsName}>  {pack.name} </div>\n                            <div>  {pack.cardsCount} </div>\n                            <div className={style.date}>\n                                <div>{formatDate}</div>\n                                <div>{formatTime}</div>\n                            </div>\n                            {pack.user_id === myUser_id && <ModalDeletePack name={pack.name} _id={pack._id}/>}\n                            {pack.user_id === myUser_id && <ModalAddUpdatePack buttonName={\"Update\"} _id={pack._id}\n                                                                               nameInit={pack.name}\n                                                                               isPrivateInit={pack.private}\n                            />}\n\n                            {pack.cardsCount > 0 &&\n                                <div>\n                                    <Button onClick={onClickLearn} buttonStyle={\"secondary\"} children={\"Learn\"}/>\n                                </div>\n                            }\n                        </div>\n\n                    })}\n                </div>\n\n            </div>\n\n\n        </div>\n    )\n}\n\nexport default Packs;","import {cardsAPI, CardsResponseType, CardType, learnAPI} from \"../dal/api\";\nimport {setAppStatus, SetAppStatusType, setError, SetErrorType} from \"./appReducer\";\nimport {ThunkAction, ThunkDispatch} from \"redux-thunk\";\nimport {AppStoreType} from \"./store\";\n\ntype InitialStateType = typeof initialState\ntype ThunkDispatchType = ThunkDispatch<AppStoreType, unknown, ActionCardsType>\ntype ThunkType = ThunkAction<void, AppStoreType, unknown, ActionCardsType>\nexport type SortCardsConditionType = \"0grade\" | \"1grade\" | \"0question\" | \"1question\" | \"0answer\" | \"1answer\"\n| \"0updated\" | \"1updated\"\n\ntype GetCardsActionType = ReturnType<typeof getCards>\ntype SetPageCountType = ReturnType<typeof setPageCount>\ntype SetGradesRangeType = ReturnType<typeof setGradesRange>\ntype SetSortCardsCondition = ReturnType<typeof setSortCardsCondition>\ntype SetAnswerSearchType = ReturnType<typeof setAnswerSearch>\ntype SetQuestionSearchType = ReturnType<typeof setQuestionSearch>\ntype SetPageType = ReturnType<typeof setPage>\ntype SetGradeType = ReturnType<typeof setGrade>\ntype ActionCardsType = SetAppStatusType | SetErrorType | GetCardsActionType | SetPageCountType | SetGradesRangeType\n    | SetSortCardsCondition | SetAnswerSearchType | SetQuestionSearchType | SetPageType | SetGradeType\n\n\nconst initialState = {\n    cards: [] as CardType[],\n    cardsTotalCount: 0,\n    maxGrade: 6,\n    minGrade: 0,\n    page: 1,\n    pageCount: 10,\n    packUserId: \"\",\n    cardAnswer: \"\",\n    cardQuestion: \"\",\n    sortCardsCondition: null as null | SortCardsConditionType,\n    min: 0,\n    max: 0,\n}\n\nexport const cardsReducer = (state: InitialStateType = initialState, action: ActionCardsType): InitialStateType => {\n    switch (action.type) {\n        case 'CARDS/GET-CARDS': {\n            return {...state, ...action.cardsInfo}\n        }\n        case \"CARDS/SET-PAGE-COUNT\": {\n            return {...state, pageCount: action.pageCount}\n        }\n        case \"CARDS/SET-GRADES-RANGE\": {\n            return {...state, min: action.min, max: action.max}\n        }\n        case \"CARDS/SET-SORT-CARDS-CONDITION\": {\n            return {...state, sortCardsCondition: action.sortCardsCondition}\n        }\n        case \"CARDS/SET-ANSWER-SEARCH\": {\n            return {...state, cardAnswer: action.cardAnswer}\n        }\n        case \"CARDS/SET-QUESTION-SEARCH\": {\n            return {...state, cardQuestion: action.cardQuestion}\n        }\n        case \"CARDS/SET-PAGE\": {\n            return {...state, page: action.page}\n        }\n        case \"LEARN/SET-GRADE\": {\n            let updCards = state.cards.map((card) => {\n                    if (card._id === action.card_id) {\n                        return {...card, grade: action.grade}\n                    } else {\n                        return {...card}\n                    }\n                }\n            )\n            return {...state, cards: updCards}\n\n\n            // let card = state.cards.find(card => card._id === action.card_id);\n            // if(card) {\n            //     card.grade = action.grade\n            // }\n            // return {...state, cards: state.cards.map(card => {\n            //     if(card._id === action.card_id) {\n            //         return {...card, grade: action.grade}\n            //     } else {\n            //         return card\n            //     }\n            //     })}\n\n        }\n\n        default: {\n            return state\n        }\n    }\n}\n\nconst getCards = (cardsInfo: CardsResponseType) => {\n    return ({\n        type: \"CARDS/GET-CARDS\",\n        cardsInfo\n    } as const)\n}\nexport const setPageCount = (pageCount: number) => {\n    return ({\n        type: \"CARDS/SET-PAGE-COUNT\",\n        pageCount\n    } as const)\n}\nexport const setGradesRange = (min: number, max: number) => {\n    return ({\n        type: \"CARDS/SET-GRADES-RANGE\",\n        min, max\n    } as const)\n}\nexport const setSortCardsCondition = (sortCardsCondition: null | SortCardsConditionType) => {\n    return ({\n        type: \"CARDS/SET-SORT-CARDS-CONDITION\",\n        sortCardsCondition\n    } as const)\n}\nexport const setAnswerSearch = (cardAnswer: string) => {\n    return ({\n        type: \"CARDS/SET-ANSWER-SEARCH\",\n        cardAnswer\n    } as const)\n}\nexport const setQuestionSearch = (cardQuestion: string) => {\n    return ({\n        type: \"CARDS/SET-QUESTION-SEARCH\",\n        cardQuestion\n    } as const)\n}\nexport const setPage = (page: number) => {\n    return ({\n        type: \"CARDS/SET-PAGE\",\n        page\n    } as const)\n}\n\nconst setGrade = (grade: number, card_id: string) => {\n    return ({\n        type: \"LEARN/SET-GRADE\",\n        grade,\n        card_id\n    } as const)\n}\n\nexport const fetchCards = (cardsPack_id: string): ThunkType => {\n    return async (dispatch: ThunkDispatchType, getState: () => AppStoreType) => {\n        const page = getState().cards.page;\n        const pageCount = getState().cards.pageCount;\n        const cardAnswer = getState().cards.cardAnswer;\n        const cardQuestion = getState().cards.cardQuestion;\n        const min = getState().cards.min;\n        const max = getState().cards.max;\n        const sortCardsCondition = getState().cards.sortCardsCondition;\n        dispatch(setAppStatus('loading'));\n        try {\n            const res = await cardsAPI.getCards(cardAnswer, cardQuestion, cardsPack_id, min, max, sortCardsCondition,\n                page, pageCount);\n            dispatch(getCards(res.data));\n            dispatch(setAppStatus('idle'));\n        } catch (e: any) {\n            const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n            dispatch(setError(error));\n            dispatch(setAppStatus('idle'));\n        }\n    }\n}\n\nexport const addCard = (cardsPack_id: string, question: string, answer: string, grade: number): ThunkType => {\n    return async (dispatch: ThunkDispatchType) => {\n        dispatch(setAppStatus('loading'));\n        try {\n            await cardsAPI.addCard(cardsPack_id, question, answer, grade);\n            dispatch(fetchCards(cardsPack_id));\n            dispatch(setAppStatus('idle'));\n        } catch (e: any) {\n            const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n            dispatch(setError(error));\n            dispatch(setAppStatus('idle'));\n        }\n    }\n}\n\nexport const updateCard = (_id: string, cardsPack_id: string, question: string, answer: string, grade: number): ThunkType => {\n    return async (dispatch: ThunkDispatchType) => {\n        dispatch(setAppStatus('loading'));\n        try {\n            await cardsAPI.updateCard(_id, cardsPack_id, question, answer, grade);\n            dispatch(fetchCards(cardsPack_id));\n            dispatch(setAppStatus('idle'));\n        } catch (e: any) {\n            const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n            dispatch(setError(error));\n            dispatch(setAppStatus('idle'));\n        }\n    }\n}\n\nexport const deleteCard = (_id: string, cardsPack_id: string): ThunkType => {\n    return async (dispatch: ThunkDispatchType) => {\n        dispatch(setAppStatus('loading'));\n        try {\n            await cardsAPI.deleteCard(_id);\n            dispatch(fetchCards(cardsPack_id));\n            dispatch(setAppStatus('idle'));\n        } catch (e: any) {\n            const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n            dispatch(setError(error));\n            dispatch(setAppStatus('idle'));\n        }\n    }\n}\n\n\n\nexport const addNewGrade = (grade: number, card_id: string): ThunkType => {\n    return async (dispatch: ThunkDispatchType) => {\n        dispatch(setAppStatus('loading'));\n        try {\n            const res = await learnAPI.updateGrade(grade, card_id);\n            dispatch(setGrade(res.data.updatedGrade.grade, res.data.updatedGrade.card_id));\n            dispatch(setAppStatus('idle'));\n        } catch (e: any) {\n            const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n            dispatch(setError(error));\n            dispatch(setAppStatus('idle'));\n        }\n    }\n}\n\n\n\n\n\n","import React, {ChangeEvent, useState} from \"react\";\nimport Modal from \"../../common/modal/Modal\";\nimport {useDispatch} from \"react-redux\";\nimport {addCard, updateCard} from \"../../../bll/cardsReducer\";\nimport Button from \"../../common/button/Button\";\nimport Input from \"../../common/input/Input\";\nimport style from \"./ModalAddUpdatePack.module.css\"\n\ntype PropsType = {\n    buttonName: \"Add\" | \"Update\"\n    questionInit: string\n    answerInit: string\n    _id: string\n    cardsPack_id: string\n    gradeInit: number\n}\n\n\nconst ModalAddUpdateCard: React.FC<PropsType> =\n    ({buttonName, questionInit, answerInit, _id, cardsPack_id, gradeInit}) => {\n        const dispatch = useDispatch();\n        const [active, setActive] = useState(false);\n        const [question, setQuestion] = useState(questionInit);\n        const [answer, setAnswer] = useState(answerInit);\n\n        const onClickAddCardHandler = () => {\n            setActive(true);\n        }\n        const onChangeQuestion = (e: ChangeEvent<HTMLInputElement>) => {\n            setQuestion(e.target.value);\n        }\n        const onChangeAnswer = (e: ChangeEvent<HTMLInputElement>) => {\n            setAnswer(e.target.value);\n        }\n        const onClickSave = () => {\n            if (buttonName === 'Add') {\n                dispatch(addCard(cardsPack_id, question, answer, gradeInit));\n            } else {\n                dispatch(updateCard(_id, cardsPack_id, question, answer, gradeInit))\n            }\n            setActive(false);\n            setQuestion(question);\n            setAnswer(answer);\n        }\n        const onClickCancel = () => {\n            setActive(false);\n            setQuestion(questionInit);\n            setAnswer(answerInit);\n        }\n\n        return (\n            <div>\n                <Button children={buttonName} buttonStyle={\"secondary\"} onClick={onClickAddCardHandler}/>\n                <Modal active={active} setActive={setActive}>\n                    <Input name={\"question\"} placeholder={\"Question\"} value={question}\n                           onChange={onChangeQuestion} className={style.input}/>\n                    <Input name={\"answer\"} placeholder={\"Answer\"} value={answer} onChange={onChangeAnswer}\n                           className={style.input}/>\n                    <div>\n                        <Button children={\"Save\"} buttonStyle={\"secondary\"}\n                                onClick={onClickSave} className={style.btnContainer}/>\n                        <Button children={\"Cancel\"} buttonStyle={\"secondary\"}\n                                onClick={onClickCancel} className={style.btnContainer}/>\n                    </div>\n                </Modal>\n            </div>\n        )\n    }\n\nexport default ModalAddUpdateCard;","import React, {useState} from \"react\";\nimport Modal from \"../../common/modal/Modal\";\nimport {useDispatch} from \"react-redux\";\nimport {deleteCard} from \"../../../bll/cardsReducer\";\nimport Button from \"../../common/button/Button\";\nimport style from \"./ModalDeleteCard.module.css\"\n\n\ntype PropsType = {\n    _id: string\n    cardsPack_id: string\n}\n\nconst ModalDeletePCard: React.FC<PropsType> = ({_id, cardsPack_id}) => {\n    const [active, setActive] = useState(false);\n    const dispatch = useDispatch();\n\n\n    const onClickDeleteHandler = () => {\n        setActive(true);\n    }\n    const onClickYes = () => {\n        dispatch(deleteCard(_id, cardsPack_id));\n        setActive(false);\n    }\n    const onClickNo = () => {\n        setActive(false);\n    }\n\n\n    return (\n        <div>\n            <Button children={\"Delete\"} buttonStyle={\"secondary\"} onClick={onClickDeleteHandler}/>\n            <Modal active={active} setActive={onClickDeleteHandler}>\n                <div >Do you really want to delete this card?</div>\n                <div>\n                    <Button children={\"Yes\"} buttonStyle={'secondary'} onClick={onClickYes} className={style.btnContainer}/>\n                    <Button children={\"No\"} buttonStyle={'secondary'} onClick={onClickNo} className={style.btnContainer}/>\n                </div>\n\n            </Modal>\n        </div>\n    )\n}\n\nexport default ModalDeletePCard;","import React, {ChangeEvent, KeyboardEvent, useState} from \"react\";\nimport Input from \"../../common/input/Input\";\nimport style from \"./CardsSettings.module.css\"\n\n\ntype PropsType = {\n    onPressKeyQuestionSearch: (cardQuestion: string) => void\n    onPressKeyAnswerSearch: (cardAnswer: string) => void\n    onPressKeyGrade: (min: number, max: number) => void\n\n}\n\nconst CardsSettings: React.FC<PropsType> = ({onPressKeyQuestionSearch, onPressKeyAnswerSearch, onPressKeyGrade}) => {\n    const [questionValue, setQuestionValue] = useState(\"\");\n    const [answerValue, setAnswerValue] = useState(\"\");\n    const [min, setMin] = useState(0);\n    const [max, setMax] = useState(6);\n\n    const onChangeQuestionValue = (e: ChangeEvent<HTMLInputElement>) => {\n        setQuestionValue(e.target.value)\n    }\n    const onChangeAnswerValue = (e: ChangeEvent<HTMLInputElement>) => {\n        setAnswerValue(e.target.value)\n    }\n    const onPressEnterSearchQuestion = (e: KeyboardEvent<HTMLInputElement>) => {\n        if (e.key === \"Enter\") {\n            onPressKeyQuestionSearch(questionValue);\n        }\n    }\n    const onPressEnterSearchAnswer = (e: KeyboardEvent<HTMLInputElement>) => {\n        if (e.key === \"Enter\") {\n            onPressKeyAnswerSearch(answerValue);\n        }\n    }\n    const onChangeMinGrade = (e: ChangeEvent<HTMLInputElement>) => {\n        setMin(+e.target.value)\n    }\n    const onChangeMaxGrade = (e: ChangeEvent<HTMLInputElement>) => {\n        setMax(+e.target.value)\n    }\n    const onPressEnterGrade = (e: KeyboardEvent<HTMLInputElement>) => {\n        if (e.key === \"Enter\") {\n            onPressKeyGrade(min, max);\n        }\n    }\n\n    return (\n        <>\n            <div>\n                Grade:\n            </div>\n            <div>\n                <Input className={style.numberInput} value={min} onChange={onChangeMinGrade}\n                       onKeyPress={onPressEnterGrade} placeholder={\"Min grade\"}/> - min\n            </div>\n            <div>\n                <Input className={style.numberInput} value={max} onChange={onChangeMaxGrade}\n                       onKeyPress={onPressEnterGrade} placeholder={\"Max grade\"}/> - max\n            </div>\n            <div>\n                <Input value={questionValue} onChange={onChangeQuestionValue} placeholder={\"Search question\"}\n                       onKeyPress={onPressEnterSearchQuestion} className={style.item}/>\n            </div>\n            <div>\n                <Input value={answerValue} onChange={onChangeAnswerValue} placeholder={\"Search answer\"}\n                       onKeyPress={onPressEnterSearchAnswer} className={style.item}/>\n            </div>\n        </>\n    )\n}\n\nexport default CardsSettings;","import React from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {setSortCardsCondition} from \"../../../bll/cardsReducer\";\nimport up from \"../../../assets/images/icon_sort_up.png\"\nimport down from \"../../../assets/images/icon_sorn_down.png\"\nimport style from \"../../packs/sortPack/sortPack.module.css\";\n\ntype PropsType = {\n    btnName:  \"question\" | \"answer\" | \"updated\" | \"grade\"\n}\n\nconst SortCards: React.FC<PropsType> = ({btnName}) => {\n    const dispatch = useDispatch();\n\n\n    const onClickQuestionUp = () => {\n        dispatch(setSortCardsCondition(\"1question\"))\n    }\n    const onClickQuestionDown = () => {\n        dispatch(setSortCardsCondition(\"0question\"))\n    }\n    const onClickAnswerUp = () => {\n        dispatch(setSortCardsCondition(\"1answer\"))\n    }\n    const onClickAnswerDown = () => {\n        dispatch(setSortCardsCondition(\"0answer\"))\n    }\n    const onClickUpdUp = () => {\n        dispatch(setSortCardsCondition(\"1updated\"))\n    }\n    const onClickUpdDown = () => {\n        dispatch(setSortCardsCondition(\"0updated\"))\n    }\n    const onClickGradeUp = () => {\n        dispatch(setSortCardsCondition(\"0grade\"))\n    }\n    const onClickGradeDown = () => {\n        dispatch(setSortCardsCondition(\"1grade\"))\n    }\n\n    switch (btnName) {\n        case \"question\": {\n            return (\n                <div>\n                    <button className={style.btn} onClick={onClickQuestionUp}><img src={up} alt = {\"up\"}/></button>\n                    <button className={style.btn} onClick={onClickQuestionDown}><img src={down} alt={\"down\"} /></button>\n                </div>\n            )\n        }\n        case \"answer\": {\n            return (\n                <div>\n                    <button className={style.btn} onClick={onClickAnswerUp}><img src={up} alt = {\"up\"}/></button>\n                    <button className={style.btn} onClick={onClickAnswerDown}><img src={down} alt={\"down\"} /></button>\n                </div>\n            )\n        }\n        case \"grade\": {\n            return (\n                <div>\n                    <button className={style.btn} onClick={onClickGradeUp}><img src={up} alt = {\"up\"}/></button>\n                    <button className={style.btn} onClick={onClickGradeDown}><img src={down} alt={\"down\"} /></button>\n                </div>\n            )\n        }\n        case \"updated\": {\n            return (\n                <div>\n                    <button className={style.btn} onClick={onClickUpdUp}><img src={up} alt = {\"up\"}/></button>\n                    <button className={style.btn} onClick={onClickUpdDown}><img src={down} alt={\"down\"} /></button>\n                </div>\n            )\n        }\n\n    }\n\n    return (\n        <>\n        </>\n    )\n}\n\nexport default SortCards;","import style from './Cards.module.css'\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppStoreType} from \"../../bll/store\";\nimport {useEffect} from \"react\";\nimport {Redirect, useParams} from \"react-router-dom\";\nimport {PATH} from \"../routes/Routes\";\nimport {CardType} from \"../../dal/api\";\nimport {\n    fetchCards,\n    setAnswerSearch,\n    setGradesRange,\n    setPage,\n    setPageCount,\n    setQuestionSearch\n} from \"../../bll/cardsReducer\";\nimport ModalAddUpdateCard from \"./modals/ModalAddUpdateCard\";\nimport ModalDeleteCard from \"./modals/ModalDeleteCard\";\nimport CardsSettings from \"./cardsSettings/CardsSettings\";\nimport SortCards from \"./sortCards/SortCards\";\nimport Paginator from \"../common/paginator/Paginator\";\n\n\nconst Cards = () => {\n    const dispatch = useDispatch();\n    const {cardsPack_id} = useParams<{ cardsPack_id: string }>()\n\n    const isLoggedIn = useSelector<AppStoreType, boolean>(state => state.login.isLoggedIn);\n    const cards = useSelector<AppStoreType, CardType[]>(state => state.cards.cards);\n    const cardQuestion = useSelector<AppStoreType, string>(state => state.cards.cardQuestion);\n    const cardAnswer = useSelector<AppStoreType, string>(state => state.cards.cardAnswer);\n    const min = useSelector<AppStoreType, number>(state => state.cards.min);\n    const max = useSelector<AppStoreType, number>(state => state.cards.max);\n    const sortCardsCondition = useSelector<AppStoreType, null | string>(state => state.cards.sortCardsCondition);\n    const pageCount = useSelector<AppStoreType, number>(state => state.cards.pageCount);\n    const cardsTotalCount = useSelector<AppStoreType, number>(state => state.cards.cardsTotalCount);\n    const page = useSelector<AppStoreType, number>(state => state.cards.page);\n\n\n    useEffect(() => {\n        dispatch(fetchCards(cardsPack_id))\n    }, [cardQuestion, cardAnswer, min, max, sortCardsCondition, pageCount, page]);\n\n    const onPressKeyQuestionSearch = (questionValue: string) => {\n        dispatch(setQuestionSearch(questionValue))\n    }\n    const onPressKeyAnswerSearch = (answerValue: string) => {\n        dispatch(setAnswerSearch(answerValue))\n    }\n    const onPressKeyGrade = (min: number, max: number) => {\n        dispatch(setGradesRange(min, max));\n    }\n    const onPageChange = (page: number) => {\n        dispatch(setPage(page));\n    }\n    const onSwitchPageCount = (pageCount: number) => {\n        dispatch(setPageCount(pageCount));\n    }\n\n    if (!isLoggedIn) {\n        return <Redirect to={PATH.LOGIN}/>\n    }\n\n    return (\n        <div className={style.cardsContainer}>\n            <div>\n                <CardsSettings onPressKeyQuestionSearch={onPressKeyQuestionSearch}\n                               onPressKeyAnswerSearch={onPressKeyAnswerSearch} onPressKeyGrade={onPressKeyGrade}\n                />\n                <div className={style.btnContainer}>\n                    <ModalAddUpdateCard buttonName={\"Add\"} questionInit={\"\"} answerInit={\"\"} _id={\"\"}\n                                        cardsPack_id={cardsPack_id} gradeInit={0}/>\n                </div>\n            </div>\n            <div>\n                <Paginator pageCount={pageCount} totalItemsCount={cardsTotalCount} portionSize={10}\n                           onPageChanges={onPageChange} currentPage={page} onSwitchPageCount={onSwitchPageCount}/>\n\n                <div className={style.titlesBlock}>\n                    <div className={style.title}>\n                        <span>Question</span>\n                        <SortCards btnName={'question'}/>\n                    </div>\n                    <div className={style.title}>\n                        <span>Answer</span>\n                        <SortCards btnName={\"answer\"}/>\n                    </div>\n                    <div className={style.title}>\n                        <span>Grades</span>\n                        <SortCards btnName={\"grade\"}/>\n                    </div>\n                    <div className={style.title}>\n                        <span>Updated</span>\n                        <SortCards btnName={'updated'}/>\n                    </div>\n\n\n                </div>\n                {(cards.length > 0 && cardsPack_id === cards[0].cardsPack_id ?\n                    <div>\n                        {cards.map((c) => {\n                            const date = new Date(c.updated);\n                            let optionsDate = new Intl.DateTimeFormat(\"en\", {\n                                year: \"numeric\",\n                                month: \"numeric\",\n                                day: \"numeric\",\n                            });\n                            let optionsTime = new Intl.DateTimeFormat(\"en\", {\n                                hour: \"numeric\",\n                                minute: \"numeric\",\n                            });\n                            const formatDate = optionsDate.format(date);\n                            const formatTime = optionsTime.format(date);\n                            const grade = +c.grade.toFixed(2)\n                            return (\n                                <div className={style.cardsBlock} key={c._id}>\n                                    <div>{c.question}</div>\n                                    <div>{c.answer}</div>\n                                    <div>{grade}</div>\n                                    <div className={style.date}>\n                                        <div>{formatDate}</div>\n                                        <div>{formatTime}</div>\n                                    </div>\n                                    <ModalDeleteCard _id={c._id} cardsPack_id={c.cardsPack_id}/>\n                                    <ModalAddUpdateCard buttonName={\"Update\"} questionInit={c.question}\n                                                        answerInit={c.answer}\n                                                        _id={c._id} cardsPack_id={c.cardsPack_id} gradeInit={c.grade}/>\n                                </div>\n                            )\n                        })}\n\n                    </div> : <div></div>)}\n\n\n            </div>\n\n\n        </div>\n    )\n\n}\n\nexport default Cards;","import React, {ChangeEvent, useState} from \"react\";\nimport Button from \"../../common/button/Button\";\nimport style from \"./LearnAnswer.module.css\"\n\ntype PropsType = {\n    grade: number,\n    card_id: string\n    onCLickNext: (grade: number) => void\n    answer: string\n}\n\nconst LearnAnswer: React.FC<PropsType> = ({\n                                              grade, card_id,\n                                              onCLickNext, answer\n                                          }) => {\n    const [value, setValue] = useState(1);\n    const onChangeValue = (e: ChangeEvent<HTMLInputElement>) => {\n        setValue(+e.currentTarget.value);\n    }\n\n    return (\n        <>\n            <div>{answer}</div>\n            <div className={style.text}>Please rate your answer:</div>\n            <div className={style.rating}>\n                <div>\n                    <input type={'radio'} value={1} onChange={onChangeValue} id={\"grade1\"} checked={value === 1}/>\n                    <label htmlFor={\"grade1\"}>didn't know</label>\n                </div>\n                <div>\n                    <input type={'radio'} value={2} onChange={onChangeValue} id={\"grade2\"} checked={value === 2}/>\n                    <label htmlFor={\"grade2\"}>forgot</label>\n                </div>\n                <div>\n                    <input type={'radio'} value={3} onChange={onChangeValue} id={\"grade3\"} checked={value === 3}/>\n                    <label htmlFor={\"grade3\"}>a lot of thought</label>\n                </div>\n                <div>\n                    <input type={'radio'} value={4} onChange={onChangeValue} id={\"grade4\"} checked={value === 4}/>\n                    <label htmlFor={\"grade4\"}>confused</label>\n                </div>\n                <div>\n                    <input type={'radio'} value={5} onChange={onChangeValue} id={\"grade5\"} checked={value === 5}/>\n                    <label htmlFor={\"grade2\"}>knew</label>\n                </div>\n            </div>\n            <Button buttonStyle={\"secondary\"} children={\"Next\"} onClick={() => onCLickNext(value)}/>\n\n        </>\n    )\n}\nexport default LearnAnswer;","import React, {useState} from \"react\";\nimport Button from \"../../common/button/Button\";\nimport Modal from \"../../common/modal/Modal\";\nimport style from \"./ModalStopLearning.module.css\"\n\ntype PropsType = {\n    onClickStopHandler: () => void\n}\n\nconst ModalStopLearning:React.FC<PropsType> = ({onClickStopHandler}) => {\n    const [active, setActive] = useState(false);\n    const onCLickStop = () => {\n        setActive(true);\n    }\n    const onClickYes = () => {\n        onClickStopHandler();\n        setActive(false);\n    }\n    const onClickNo = () => {\n        setActive(false);\n    }\n\n    return (\n        <>\n            <Button buttonStyle={\"primary\"} children={\"Stop\"} onClick={onCLickStop} className={style.btn} />\n            <Modal active={active} setActive={onCLickStop}>\n                <div>Do you really want to stop your learning?</div>\n                <div>\n                    <Button onClick={onClickYes} buttonStyle={\"secondary\"} children={\"Yes\"} className={style.btnContainer}/>\n                    <Button onClick={onClickNo} buttonStyle={\"secondary\"} children={\"No\"} className={style.btnContainer}/>\n                </div>\n\n            </Modal>\n        </>\n    )\n}\n\nexport default ModalStopLearning;","import {useDispatch, useSelector} from \"react-redux\";\nimport {Redirect, useHistory, useParams} from \"react-router-dom\";\nimport {AppStoreType} from \"../../bll/store\";\nimport {CardType} from \"../../dal/api\";\nimport {PATH} from \"../routes/Routes\";\nimport React, {useCallback, useEffect, useState} from \"react\";\nimport {addNewGrade, fetchCards} from \"../../bll/cardsReducer\";\nimport Button from \"../common/button/Button\";\nimport LearnAnswer from \"./learnAnswer/LearnAnswer\";\nimport ModalStopLearning from \"./modals/ModalStopLearning\";\nimport style from \"./Learn.module.css\"\n\nconst getCard = (cards: CardType[]) => {\n    const sum = cards.reduce((acc, card) => acc + (6 - card.grade) * (6 - card.grade), 0);\n    const rand = Math.random() * sum;\n    const res = cards.reduce((acc: { sum: number, id: number }, card, i) => {\n            const newSum = acc.sum + (6 - card.grade) * (6 - card.grade);\n            return {sum: newSum, id: newSum < rand ? i : acc.id}\n        }\n        , {sum: 0, id: -1});\n\n    return cards[res.id + 1];\n}\nconst Learn = () => {\n\n    const dispatch = useDispatch();\n    const {cardsPack_id} = useParams<{ cardsPack_id: string }>();\n    const isLoggedIn = useSelector<AppStoreType, boolean>(state => state.login.isLoggedIn);\n    const cards = useSelector<AppStoreType, CardType[]>(state => state.cards.cards);\n    const history = useHistory();\n\n    const [firstCard, setFirstCard] = useState(true);\n    const [card, setCard] = useState({} as CardType);\n    const [showAnswer, setShowAnswer] = useState(false);\n\n    useEffect(() => {\n        if (firstCard) {\n            dispatch(fetchCards(cardsPack_id));\n            setFirstCard(false);\n        }\n        if (cards.length > 0 && cardsPack_id === cards[0].cardsPack_id) {\n            setCard(getCard(cards));\n        }\n    }, [dispatch, firstCard, cards, cardsPack_id]);\n\n    const onCLickNext = useCallback((grade: number) => {\n        if (cards.length > 0) {\n            setShowAnswer(false);\n            dispatch(addNewGrade(grade, card._id));\n        }\n    }, [dispatch, card, cards])\n\n    const onClickStopHandler = () => {\n        setCard({\n            answer: \"\",\n            question: \"\",\n            cardsPack_id: \"\",\n            grade: 0,\n            rating: 0,\n            shots: 0,\n            type: \"\",\n            user_id: \"\",\n            created: \"\",\n            updated: \"\",\n            _id: \"\",\n        })\n        history.push(PATH.PACKS);\n    }\n    if (!isLoggedIn) {\n        return <Redirect to={PATH.LOGIN}/>\n    }\n    if (cards.length > 0 && cardsPack_id === cards[0].cardsPack_id) {\n        return (\n            <div className={style.learnContainer}>\n                {/*<ModalStopLearning onClickStopHandler={onClickStopHandler}/>*/}\n                <div className={style.text}>{card.question}</div>\n                {showAnswer\n                    ? <LearnAnswer answer={card.answer} grade={card.grade} card_id={card._id}\n                                   onCLickNext={onCLickNext}/>\n                    : <>\n\n                        <Button buttonStyle={\"secondary\"} children={\"Answer\"} onClick={() => setShowAnswer(true)}/>\n                    </>\n                }\n                <ModalStopLearning onClickStopHandler={onClickStopHandler}/>\n            </div>\n        )\n    } else {\n        return <></>\n    }\n\n\n}\nexport default Learn;","import {ThunkAction, ThunkDispatch} from \"redux-thunk\";\nimport {AppStoreType} from \"./store\";\nimport {userAPI, UserDataType, UsersResponseType} from \"../dal/api\";\nimport {setAppStatus, SetAppStatusType, setError, SetErrorType} from \"./appReducer\";\n\n\ntype InitialStateType = typeof initialState\ntype ThunkDispatchType = ThunkDispatch<AppStoreType, unknown, ActionUsersType>\ntype ThunkType = ThunkAction<void, AppStoreType, unknown, ActionUsersType>\nexport type SortUsersConditionType = \"0publicCardPacksCount\" | \"1publicCardPacksCount\" | \"0name\" | \"1name\"\n\ntype GetUsersType = ReturnType<typeof getUsers>\ntype SetPageCountType = ReturnType<typeof setPageCount>\ntype SetPacksCountRangeType = ReturnType<typeof setPacksCountRange>\ntype SetSortUsersConditionType = ReturnType<typeof setSortUsersCondition>\ntype SetNameSearchType = ReturnType<typeof setNameSearch>\ntype SetPageType = ReturnType<typeof setPage>\ntype SetUserIdType = ReturnType<typeof setUserId>\n\ntype ActionUsersType = SetAppStatusType | SetErrorType | GetUsersType | SetPageCountType | SetPacksCountRangeType\n    | SetSortUsersConditionType | SetNameSearchType | SetPageType | SetUserIdType\n\nconst initialState = {\n    users: [] as UserDataType[],\n    maxPublicCardPacksCount: 100,\n    minPublicCardPacksCount: 0,\n    page: 1,\n    pageCount: 10,\n    usersTotalCount: 0,\n    sortUsersCondition: null as null | SortUsersConditionType,\n    userName: \"\",\n    min: 0,\n    max: 0,\n    userId: \"\",\n}\n\nexport const usersReducer = (state: InitialStateType = initialState, action: ActionUsersType): InitialStateType => {\n    switch (action.type) {\n        case \"USERS/GET-USERS\": {\n            return {...state, ...action.usersInfo};\n        }\n        case \"USERS/SET-PAGE-COUNT\": {\n            debugger\n            return {...state, pageCount: action.pageCount}\n        }\n        case \"USERS/SET-PACKS-COUNT-RANGE\": {\n            return {...state, min: action.min, max: action.max}\n        }\n        case \"USERS/SET-SORT-USERS-CONDITION\": {\n            return {...state, sortUsersCondition: action.sortUsersCondition}\n        }\n        case \"USERS/SET-NAME-SEARCH\": {\n            return {...state, userName: action.name}\n        }\n        case \"USERS/SET-PAGE\":{\n            return {...state, page: action.page}\n        }\n        case \"USERS/SET-USER-ID\": {\n            return {...state, userId: action.userId}\n        }\n\n\n        default: {\n            return state;\n        }\n\n    }\n}\n\nconst getUsers = (usersInfo: UsersResponseType) => {\n    return ({\n        type: \"USERS/GET-USERS\",\n        usersInfo\n    } as const)\n}\nexport const setPageCount = (pageCount: number) => {\n    return ({\n        type: \"USERS/SET-PAGE-COUNT\",\n        pageCount\n    } as const)\n}\nexport const setPacksCountRange = (min: number, max: number) => {\n    return ({\n        type: \"USERS/SET-PACKS-COUNT-RANGE\",\n        min, max\n    } as const)\n}\nexport const setSortUsersCondition = (sortUsersCondition: null | SortUsersConditionType) => {\n    return ({\n        type: \"USERS/SET-SORT-USERS-CONDITION\",\n        sortUsersCondition\n    } as const)\n}\nexport const setNameSearch = (name: string) => {\n    return ({\n        type: \"USERS/SET-NAME-SEARCH\",\n        name\n    } as const)\n}\nexport const setPage = (page: number) => {\n    return ({\n        type: \"USERS/SET-PAGE\",\n        page\n    } as const)\n}\nexport const setUserId = (userId: string) => {\n    return ({\n        type: \"USERS/SET-USER-ID\",\n        userId\n    } as const)\n}\n\nexport const fetchUsers = (): ThunkType => {\n    return async (dispatch: ThunkDispatchType, getState: () => AppStoreType) => {\n        const userName = getState().users.userName;\n        const min = getState().users.min;\n        const max = getState().users.max;\n        const sortUsers = getState().users.sortUsersCondition;\n        const page = getState().users.page;\n        const pageCount = getState().users.pageCount;\n\n        dispatch(setAppStatus('loading'));\n        try {\n            const res = await userAPI.getUsers(userName, min, max, sortUsers, page, pageCount);\n            dispatch(getUsers(res.data));\n            dispatch(setAppStatus('idle'));\n        } catch (e: any) {\n            const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n            dispatch(setError(error));\n            dispatch(setAppStatus('idle'));\n        }\n    }\n}","import React from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {setSortUsersCondition} from \"../../../bll/usersReduser\";\nimport up from \"../../../assets/images/icon_sort_up.png\"\nimport down from \"../../../assets/images/icon_sorn_down.png\"\nimport style from \"./sortUsers.module.css\"\n\ntype PropsType = {\n    btnName:  \"name\" | \"publicCardPacksCount\"\n}\nconst SortUsers: React.FC<PropsType> = ({btnName}) => {\n    const dispatch = useDispatch();\n\n    const onClickNameUp = () => {\n        dispatch(setSortUsersCondition(\"1name\"))\n    }\n    const onClickNameDown = () => {\n        dispatch(setSortUsersCondition(\"0name\"))\n    }\n    const onClickPacksUp = () => {\n        dispatch(setSortUsersCondition(\"1publicCardPacksCount\"))\n    }\n    const onClickPacksDown = () => {\n        dispatch(setSortUsersCondition(\"0publicCardPacksCount\"))\n    }\n\n    switch(btnName) {\n        case \"name\": {\n            return (\n                <div>\n                    <button onClick={onClickNameUp} className={style.btn}><img src={up} alt={\"up\"}/></button>\n                    <button onClick={onClickNameDown} className={style.btn}><img src={down} alt={\"down\"}/></button>\n                </div>\n            )\n        }\n        case \"publicCardPacksCount\": {\n            return (\n                <div>\n                    <button onClick={onClickPacksUp} className={style.btn}><img src={up} alt={\"up\"}/></button>\n                    <button onClick={onClickPacksDown} className={style.btn}><img src={down} alt={\"down\"}/></button>\n                </div>\n            )\n        }\n    }\n\n}\nexport default SortUsers;","import React, {ChangeEvent, KeyboardEvent, useState} from \"react\";\nimport Input from \"../../common/input/Input\";\nimport style from \"./UserSettings.module.css\"\n\n\ntype PropsType = {\n    onPressKeyPacksCount: (minPacksCount: number, maxPacksCount: number) => void\n    onPressKeySearch: (searchValue: string) => void\n}\n\nconst UsersSettings: React.FC<PropsType> = ({onPressKeyPacksCount, onPressKeySearch}) => {\n    const [minPacksCount, setMinPacksCount] = useState(0);\n    const [maxPacksCount, setMaxPacksCount] = useState(1000);\n    const [searchValue, setSearchValue] = useState(\"\");\n\n    const onChangeMinPacksCount = (e: ChangeEvent<HTMLInputElement>) => {\n        setMinPacksCount(+e.target.value);\n    }\n    const onChangeMaxPacksCount = (e: ChangeEvent<HTMLInputElement>) => {\n        setMaxPacksCount(+e.target.value);\n    }\n    const onChangeSearchValue = (e: ChangeEvent<HTMLInputElement>) => {\n        setSearchValue(e.target.value)\n    }\n    const onPressEnterSearch = (e: KeyboardEvent<HTMLInputElement>) => {\n        if (e.key === 'Enter') {\n            onPressKeySearch(searchValue);\n        }\n    }\n    const onPressEnterPacksCount = (e: KeyboardEvent<HTMLInputElement>) => {\n        if (e.key === 'Enter') {\n            onPressKeyPacksCount(minPacksCount, maxPacksCount);\n        }\n    }\n    const onBlurPackCountHandler = () => {\n        onPressKeyPacksCount(minPacksCount, maxPacksCount);\n    }\n    const onBlurSearchHandler = () => {\n        onPressKeySearch(searchValue);\n    }\n\n    return (\n        <>\n            <div>\n                <Input value={searchValue} onChange={onChangeSearchValue} placeholder={\"Search user\"}\n                       onKeyPress={onPressEnterSearch} onBlur={onBlurSearchHandler} className={style.item}/>\n            </div>\n            <div>\n                Public packs:\n            </div>\n            <div>\n                <Input value={minPacksCount} onChange={onChangeMinPacksCount} className={style.numberInput}\n                       onKeyPress={onPressEnterPacksCount} onBlur={onBlurPackCountHandler}/> - min\n            </div>\n            <div>\n                <Input value={maxPacksCount} onChange={onChangeMaxPacksCount} className={style.numberInput}\n                       onKeyPress={onPressEnterPacksCount} onBlur={onBlurPackCountHandler}/> - max\n            </div>\n\n        </>\n    )\n}\nexport default UsersSettings;","import React, {useEffect} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppStoreType} from \"../../bll/store\";\nimport {UserDataType} from \"../../dal/api\";\nimport {fetchUsers, setNameSearch, setPacksCountRange, setUserId, SortUsersConditionType} from \"../../bll/usersReduser\";\nimport {Redirect, useHistory} from \"react-router-dom\";\nimport {PATH} from \"../routes/Routes\";\nimport style from \"./Users.module.css\";\nimport Paginator from \"../common/paginator/Paginator\";\nimport {setPage, setPageCount} from \"../../bll/usersReduser\";\nimport Button from \"../common/button/Button\";\nimport SortUsers from \"./sortUsers/sortUsers\";\nimport {setMyPacks} from \"../../bll/packsReducer\";\nimport UsersSettings from \"./usersSettings/UsersSettings\";\n\n\nconst Users: React.FC = () => {\n    const dispatch = useDispatch();\n    const history = useHistory()\n    const isLoggedIn = useSelector<AppStoreType, boolean>(state => state.login.isLoggedIn);\n    const users = useSelector<AppStoreType, UserDataType []>(state => state.users.users);\n    const pageCount = useSelector<AppStoreType, number>(state => state.users.pageCount);\n    const usersTotalCount = useSelector<AppStoreType, number>(state => state.users.usersTotalCount);\n    const page = useSelector<AppStoreType, number>(state => state.users.page);\n    const sortUsersCondition = useSelector<AppStoreType, null | SortUsersConditionType>(state =>\n        state.users.sortUsersCondition);\n    const min = useSelector<AppStoreType, number>(state => state.users.min);\n    const max = useSelector<AppStoreType, number>(state => state.users.max);\n    const userName = useSelector<AppStoreType, string>(state => state.users.userName)\n\n\n    useEffect(() => {\n        dispatch(fetchUsers());\n    }, [dispatch, pageCount, page, sortUsersCondition, min, max, userName]);\n\n    const onPageChange = (page: number) => {\n        dispatch(setPage(page));\n    }\n    const onSwitchPageCount = (pageCount: number) => {\n        dispatch(setPageCount(pageCount));\n    }\n    const onPressKeySearch = (searchValue: string) => {\n        dispatch(setNameSearch(searchValue));\n    }\n    const onPressKeyPacksCount = (minPacksCount: number, maxPacksCount: number) => {\n        dispatch(setPacksCountRange(minPacksCount, maxPacksCount));\n    }\n\n\n    if (!isLoggedIn) {\n        return <Redirect to={PATH.LOGIN}/>\n    }\n\n    return (\n        <div className={style.usersContainer}>\n            <div>\n                <UsersSettings onPressKeySearch={onPressKeySearch} onPressKeyPacksCount={onPressKeyPacksCount}/>\n            </div>\n            <div>\n                <Paginator pageCount={pageCount} totalItemsCount={usersTotalCount} portionSize={10}\n                           onPageChanges={onPageChange} currentPage={page} onSwitchPageCount={onSwitchPageCount}/>\n                <div className={style.titlesBlock}>\n                    <div className={style.title}>\n                        <span>Name</span>\n                        <SortUsers btnName={'name'}/>\n                    </div>\n                    <div className={style.title}>\n                        <span>Public packs</span>\n                        <SortUsers btnName={\"publicCardPacksCount\"}/>\n                    </div>\n\n\n                </div>\n                {users.map(u => {\n                    const onClickPacks = (userId: string) => {\n                        dispatch(setUserId(userId));\n                        dispatch(setMyPacks(false));\n                        history.push(`/packs`)\n                    }\n                    return (\n                        <div className={style.usersBlock} key={u._id}>\n                            <div>\n                                <div>{u.name}</div>\n                                {u.name === u.email ? \"\" : <div className={style.description}>{u.email}</div>}\n\n                            </div>\n                            <div>{u.publicCardPacksCount}</div>\n                            {u.publicCardPacksCount != 0 && <div><Button buttonStyle={'secondary'} children={\"Packs\"}\n                                onClick={() => onClickPacks(u._id)}/></div>}\n\n\n\n                        </div>\n                    )\n                })}\n            </div>\n        </div>\n    )\n}\nexport default Users","import React from 'react'\nimport {Redirect, Route, Switch} from \"react-router-dom\";\nimport EnterNewPassword from \"../enterNewPassword/EnterNewPassword\";\nimport Login from \"../login/Login\";\nimport Profile from \"../profile/Profile\";\nimport SignUp from \"../signUp/SignUp\";\nimport RestorePassword from \"../restorePassword/RestorePassword\";\nimport Error404 from \"../error404/Error404\";\nimport Packs from \"../packs/Packs\";\nimport Cards from '../cards/Cards';\nimport Learn from \"../learn/Learn\";\nimport Users from \"../users/Users\";\n\n\nexport const PATH = {\n    ENTER_NEW_PASSWORD: '/enter-new-password/:token',\n    LOGIN: '/login',\n    PROFILE: '/profile',\n    SIGN_UP: '/sign-up',\n    RESTORE_PASSWORD: '/restore-password',\n    PACKS: '/packs',\n    CARDS:'/cards/:cardsPack_id',\n    LEARN:'/learn/:cardsPack_id',\n    USERS: '/users',\n}\n\nfunction Routes() {\n    return (\n        <div>\n            <Switch>\n                <Route path={'/'} exact render={() => <Redirect to={PATH.LOGIN}/>}/>\n                <Route path={PATH.ENTER_NEW_PASSWORD} render={() => <EnterNewPassword/>}/>\n                <Route path={PATH.LOGIN} render={() => <Login/>}/>\n                <Route path={PATH.PROFILE} render={() => <Profile/>}/>\n                <Route path={PATH.SIGN_UP} render={() => <SignUp/>}/>\n                <Route path={PATH.RESTORE_PASSWORD} render={() => <RestorePassword/>}/>\n                <Route path={PATH.PACKS} render={() => <Packs/>}/>\n                <Route path={PATH.CARDS} render={() => <Cards/>}/>\n                <Route path={PATH.LEARN} render={() => <Learn/>}/>\n                <Route path={PATH.USERS} render={() => <Users/>}/>\n                <Route render={() => <Error404/>}/>\n\n            </Switch>\n        </div>\n    )\n}\n\nexport default Routes;","import React from 'react'\nimport {NavLink, useHistory} from 'react-router-dom'\nimport style from './Header.module.css'\nimport {PATH} from \"../routes/Routes\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppStoreType} from \"../../bll/store\";\nimport {logout, setIsLoggedIn} from \"../../bll/loginReducer\";\nimport Button from \"../common/button/Button\";\n\nfunction Header() {\n    const dispatch = useDispatch();\n    const isLoggedIn = useSelector<AppStoreType, boolean>(state => state.login.isLoggedIn)\n    const history = useHistory()\n    const onCLickLogoutHandler = () => {\n        dispatch(logout());\n        dispatch(setIsLoggedIn(false))\n        history.push(PATH.LOGIN)\n\n    }\n    return (\n        <div className={style.headerBlock}>\n            <nav className={style.nav}>\n                {!isLoggedIn && <div className = {style.item}>\n                    <NavLink to={PATH.LOGIN} activeClassName={style.activeLink}>Sign In</NavLink>\n                </div>}\n                {!isLoggedIn && <div className = {style.item}>\n                    <NavLink to={PATH.SIGN_UP} activeClassName={style.activeLink}>Sign Up</NavLink>\n                </div>}\n                {isLoggedIn && <div className = {style.item}>\n                    <NavLink to={PATH.PROFILE} activeClassName={style.activeLink}>Profile</NavLink>\n                </div>}\n                {isLoggedIn && <div className = {style.item}>\n                    <NavLink to={PATH.USERS} activeClassName={style.activeLink}>Users</NavLink>\n                </div>}\n                {isLoggedIn && <div className = {style.item}>\n                    <NavLink to={PATH.PACKS} activeClassName={style.activeLink}>Packs</NavLink>\n                </div>}\n                {isLoggedIn && <Button buttonStyle={\"primary\"} onClick={onCLickLogoutHandler} children={\"Log out\"}/>}\n\n\n            </nav>\n        </div>\n    )\n\n}\n\nexport default Header;","import {ThunkAction, ThunkDispatch} from \"redux-thunk\";\nimport {AppStoreType} from \"./store\";\nimport {setAppStatus, SetAppStatusType, setError, SetErrorType} from \"./appReducer\";\nimport {CardType, learnAPI} from \"../dal/api\";\n\ntype InitialStateType = typeof initialState\ntype ThunkDispatchType = ThunkDispatch<AppStoreType, unknown, ActionLearnType>\ntype ThunkType = ThunkAction<void, AppStoreType, unknown, ActionLearnType>\n\ntype SetGradeType = ReturnType<typeof setGrade>\ntype ActionLearnType = SetAppStatusType | SetErrorType | SetGradeType\n\nconst initialState = {\n    cards: [] as CardType[],\n    // _id: \"\",\n    // cardsPack_id: \"\",\n    // card_id: \"\",\n    // user_id: \"\",\n    // grade: 0,\n    // shots: 0\n}\n\nexport const learnReducer = (state: InitialStateType = initialState, action: ActionLearnType): InitialStateType => {\n    switch (action.type) {\n        case \"LEARN/SET-GRADE\": {\n            let updCards = state.cards.map((card) => {\n                    if (card._id === action.card_id) {\n                        return {...card, grade: action.grade}\n                    } else {\n                        return {...card}\n                    }\n                }\n            )\n            return {...state, cards: updCards}\n\n\n            // let card = state.cards.find(card => card._id === action.card_id);\n            // if(card) {\n            //     card.grade = action.grade\n            // }\n            // return {...state, cards: state.cards.map(card => {\n            //     if(card._id === action.card_id) {\n            //         return {...card, grade: action.grade}\n            //     } else {\n            //         return card\n            //     }\n            //     })}\n\n        }\n        default: {\n            return state\n        }\n    }\n}\n\nconst setGrade = (grade: number, card_id: string) => {\n    return ({\n        type: \"LEARN/SET-GRADE\",\n        grade,\n        card_id\n    } as const)\n}\n\nexport const addNewGrade = (grade: number, card_id: string): ThunkType => {\n    return async (dispatch: ThunkDispatchType) => {\n        dispatch(setAppStatus('loading'));\n        try {\n            const res = await learnAPI.updateGrade(grade, card_id);\n            dispatch(setGrade(res.data.updatedGrade.grade, res.data.updatedGrade.card_id));\n            dispatch(setAppStatus('idle'));\n        } catch (e: any) {\n            const error = e.response ? e.response.data.error : \"Some unknown mistake\";\n            dispatch(setError(error));\n            dispatch(setAppStatus('idle'));\n        }\n    }\n}\n\n\n\n\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\nimport {loginReducer} from \"./loginReducer\";\nimport {enterNewPasswordReducer} from \"./enterNewPasswordReducer\";\nimport {profileReducer} from \"./profileReducer\";\nimport {restorePasswordReducer} from \"./restorePasswordReducer\";\nimport {signUpReducer} from \"./signUpReducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport {appReducer} from \"./appReducer\";\nimport {packsReducer} from \"./packsReducer\";\nimport {cardsReducer} from \"./cardsReducer\";\nimport {learnReducer} from \"./learnReducer\";\nimport {usersReducer} from \"./usersReduser\";\n\n\nconst reducers = combineReducers({\n    app: appReducer,\n    login: loginReducer,\n    enterNewPassword: enterNewPasswordReducer,\n    profile: profileReducer,\n    restorePassword: restorePasswordReducer,\n    signUp: signUpReducer,\n    packs: packsReducer,\n    cards: cardsReducer,\n    learn: learnReducer,\n    users: usersReducer,\n})\n\nconst store = createStore(reducers, applyMiddleware(thunkMiddleware))\n\nexport default store\n\nexport type AppStoreType = ReturnType<typeof reducers>\n\n// @ts-ignore\nwindow.store = store // for dev","export default __webpack_public_path__ + \"static/media/loader.afa973ee.gif\";","import loader from \"../../../assets/images/loader.gif\"\nimport {useSelector} from \"react-redux\";\nimport {AppStoreType} from \"../../../bll/store\";\n\nconst Preloader = () => {\n    const appStatus = useSelector<AppStoreType, number>(state => state.app.appStatus);\n    return (\n        <div>\n            {appStatus !== 0 && <img src={loader}/>}\n        </div>\n    )\n}\nexport default Preloader;","import {useDispatch, useSelector} from \"react-redux\";\nimport {AppStoreType} from \"../../../bll/store\";\nimport style from \"./error.module.css\"\nimport {setError} from \"../../../bll/appReducer\";\nimport {useEffect, useState} from \"react\";\nimport Modal from \"../modal/Modal\";\n\n\nconst Error = () => {\n    const error = useSelector<AppStoreType, null | string>(state => state.app.error);\n    const dispatch = useDispatch();\n    const [active, setActive] = useState(false)\n\n    const handleCloseMistake = () => {\n        dispatch(setError(null))\n    }\n    useEffect(() => {\n        if (!error) {\n            setActive(true)\n        }\n    }, [error])\n\n    return (\n        <div className={style.error} onClick={handleCloseMistake}>\n            {error &&\n            <Modal active={active} setActive={setActive} children={error}/>}\n        </div>\n    )\n}\n\nexport default Error;","import React from 'react';\nimport './App.css';\nimport Header from \"./components/header/Header\";\nimport {HashRouter} from \"react-router-dom\";\nimport Routes from \"./components/routes/Routes\";\nimport {Provider} from \"react-redux\";\nimport store from \"./bll/store\";\nimport Preloader from \"./components/common/preloader/Preloader\";\nimport Error from \"./components/common/error/Error\";\n\nfunction App() {\n    return (\n        //hr, provider\n        <Provider store={store}>\n            <HashRouter>\n                <div className=\"App\">\n                    <Header/>\n                    <Preloader/>\n                    <Routes/>\n                    <Error/>\n                </div>\n            </HashRouter>\n        </Provider>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}